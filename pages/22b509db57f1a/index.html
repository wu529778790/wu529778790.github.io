<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>原生跨平台技术：移动端跨平台到 Flutter 的技术变革 | 神族九帝&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/img/favicon.ico">
    <script src="https://pagespy.shenzjd.com/page-spy/index.min.js"></script>
    <script src="https://pagespy.shenzjd.com/plugin/data-harbor/index.min.js"></script>
    <script src="https://pagespy.shenzjd.com/plugin/rrweb/index.min.js"></script>
    <script>
    window.$harbor = new DataHarborPlugin();
    window.$rrweb = new RRWebPlugin();

    [window.$harbor, window.$rrweb].forEach(p => {
      PageSpy.registerPlugin(p)
    })

    window.$pageSpy = new PageSpy();
    </script>
    <meta name="description" content="web前端技术博客,简洁至上,专注web前端学习与总结。JavaScript,js,ES6,TypeScript,vue,css3,html5,Node,git,github等技术文章。">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="code-yywEP2q5jK">
    <meta name="theme-color" content="#11a8cd">
    <link rel="preload" href="/assets/css/0.styles.5fd99a46.css" as="style"><link rel="preload" href="/assets/js/app.5c367c34.js" as="script"><link rel="preload" href="/assets/js/3.b9739eb7.js" as="script"><link rel="preload" href="/assets/js/172.28f10b89.js" as="script"><link rel="prefetch" href="/assets/js/1.5aa3ff14.js"><link rel="prefetch" href="/assets/js/10.9568c318.js"><link rel="prefetch" href="/assets/js/100.9baf00db.js"><link rel="prefetch" href="/assets/js/101.97714955.js"><link rel="prefetch" href="/assets/js/102.6e9f8d24.js"><link rel="prefetch" href="/assets/js/103.a76fec97.js"><link rel="prefetch" href="/assets/js/104.98ae99cd.js"><link rel="prefetch" href="/assets/js/105.44880d90.js"><link rel="prefetch" href="/assets/js/106.e8da4ca9.js"><link rel="prefetch" href="/assets/js/107.c708dbed.js"><link rel="prefetch" href="/assets/js/108.027943a7.js"><link rel="prefetch" href="/assets/js/109.998ed23b.js"><link rel="prefetch" href="/assets/js/11.647c3433.js"><link rel="prefetch" href="/assets/js/110.c9dc48d3.js"><link rel="prefetch" href="/assets/js/111.0391f1a8.js"><link rel="prefetch" href="/assets/js/112.65795107.js"><link rel="prefetch" href="/assets/js/113.bb56d29e.js"><link rel="prefetch" href="/assets/js/114.eb1e03a3.js"><link rel="prefetch" href="/assets/js/115.da271c97.js"><link rel="prefetch" href="/assets/js/116.9b15e3fb.js"><link rel="prefetch" href="/assets/js/117.40aa7bc8.js"><link rel="prefetch" href="/assets/js/118.27970cd8.js"><link rel="prefetch" href="/assets/js/119.74af0c0f.js"><link rel="prefetch" href="/assets/js/12.12cecf87.js"><link rel="prefetch" href="/assets/js/120.ecf286f9.js"><link rel="prefetch" href="/assets/js/121.a74b9597.js"><link rel="prefetch" href="/assets/js/122.ff094c80.js"><link rel="prefetch" href="/assets/js/123.f95ec1d2.js"><link rel="prefetch" href="/assets/js/124.95b1c86e.js"><link rel="prefetch" href="/assets/js/125.c2ce3075.js"><link rel="prefetch" href="/assets/js/126.f5efa22b.js"><link rel="prefetch" href="/assets/js/127.b2bbe1fb.js"><link rel="prefetch" href="/assets/js/128.be19f100.js"><link rel="prefetch" href="/assets/js/129.6023d6e4.js"><link rel="prefetch" href="/assets/js/13.f7c6a163.js"><link rel="prefetch" href="/assets/js/130.3d87366c.js"><link rel="prefetch" href="/assets/js/131.08d0cff1.js"><link rel="prefetch" href="/assets/js/132.af059fd8.js"><link rel="prefetch" href="/assets/js/133.fc69c964.js"><link rel="prefetch" href="/assets/js/134.fb4a8487.js"><link rel="prefetch" href="/assets/js/135.129a8423.js"><link rel="prefetch" href="/assets/js/136.629834be.js"><link rel="prefetch" href="/assets/js/137.2144bfac.js"><link rel="prefetch" href="/assets/js/138.0a4df5eb.js"><link rel="prefetch" href="/assets/js/139.4266a203.js"><link rel="prefetch" href="/assets/js/14.92b0639e.js"><link rel="prefetch" href="/assets/js/140.3bb08e2c.js"><link rel="prefetch" href="/assets/js/141.f6da0780.js"><link rel="prefetch" href="/assets/js/142.b96e5340.js"><link rel="prefetch" href="/assets/js/143.c53da9d9.js"><link rel="prefetch" href="/assets/js/144.a2c94f7d.js"><link rel="prefetch" href="/assets/js/145.5a1ec6e4.js"><link rel="prefetch" href="/assets/js/146.317484fe.js"><link rel="prefetch" href="/assets/js/147.fd42a54e.js"><link rel="prefetch" href="/assets/js/148.9ad63768.js"><link rel="prefetch" href="/assets/js/149.3349db7d.js"><link rel="prefetch" href="/assets/js/15.1fed5bfb.js"><link rel="prefetch" href="/assets/js/150.da94a33f.js"><link rel="prefetch" href="/assets/js/151.a6b50be7.js"><link rel="prefetch" href="/assets/js/152.964281c6.js"><link rel="prefetch" href="/assets/js/153.d74e4610.js"><link rel="prefetch" href="/assets/js/154.81e1a3f9.js"><link rel="prefetch" href="/assets/js/155.427ae78f.js"><link rel="prefetch" href="/assets/js/156.470b144c.js"><link rel="prefetch" href="/assets/js/157.3a8cd7c7.js"><link rel="prefetch" href="/assets/js/158.0db7af4f.js"><link rel="prefetch" href="/assets/js/159.1d103645.js"><link rel="prefetch" href="/assets/js/16.66e5303a.js"><link rel="prefetch" href="/assets/js/160.cf2c0ffb.js"><link rel="prefetch" href="/assets/js/161.0d1b1c2b.js"><link rel="prefetch" href="/assets/js/162.e0247cf6.js"><link rel="prefetch" href="/assets/js/163.3b623da5.js"><link rel="prefetch" href="/assets/js/164.f9e4e309.js"><link rel="prefetch" href="/assets/js/165.018460d2.js"><link rel="prefetch" href="/assets/js/166.9fb04f90.js"><link rel="prefetch" href="/assets/js/167.27f5a255.js"><link rel="prefetch" href="/assets/js/168.b63579d3.js"><link rel="prefetch" href="/assets/js/169.162b6927.js"><link rel="prefetch" href="/assets/js/17.047a2899.js"><link rel="prefetch" href="/assets/js/170.1d8aac2e.js"><link rel="prefetch" href="/assets/js/171.50c2baba.js"><link rel="prefetch" href="/assets/js/173.99d16b8c.js"><link rel="prefetch" href="/assets/js/174.03f7a1b0.js"><link rel="prefetch" href="/assets/js/175.d1e47f4e.js"><link rel="prefetch" href="/assets/js/176.38b204d7.js"><link rel="prefetch" href="/assets/js/177.ed7d2f97.js"><link rel="prefetch" href="/assets/js/178.6c6f3401.js"><link rel="prefetch" href="/assets/js/179.f42c82f9.js"><link rel="prefetch" href="/assets/js/18.59d57aca.js"><link rel="prefetch" href="/assets/js/180.924a5cc5.js"><link rel="prefetch" href="/assets/js/181.b6aafb3e.js"><link rel="prefetch" href="/assets/js/182.f9e79eda.js"><link rel="prefetch" href="/assets/js/183.af9d75d5.js"><link rel="prefetch" href="/assets/js/184.158ecfa4.js"><link rel="prefetch" href="/assets/js/185.60d1ed68.js"><link rel="prefetch" href="/assets/js/186.abdf9509.js"><link rel="prefetch" href="/assets/js/187.c716ff4e.js"><link rel="prefetch" href="/assets/js/188.de97072a.js"><link rel="prefetch" href="/assets/js/189.608d4b0b.js"><link rel="prefetch" href="/assets/js/19.f2684692.js"><link rel="prefetch" href="/assets/js/190.7065e628.js"><link rel="prefetch" href="/assets/js/191.e070c7ff.js"><link rel="prefetch" href="/assets/js/192.5036893e.js"><link rel="prefetch" href="/assets/js/193.da3c5474.js"><link rel="prefetch" href="/assets/js/194.55771abe.js"><link rel="prefetch" href="/assets/js/195.42b97d20.js"><link rel="prefetch" href="/assets/js/196.bd336a05.js"><link rel="prefetch" href="/assets/js/197.4a781b93.js"><link rel="prefetch" href="/assets/js/198.2dd4aafe.js"><link rel="prefetch" href="/assets/js/199.21c1386b.js"><link rel="prefetch" href="/assets/js/2.7266734b.js"><link rel="prefetch" href="/assets/js/20.58ac0955.js"><link rel="prefetch" href="/assets/js/200.6b02b2e1.js"><link rel="prefetch" href="/assets/js/201.e623f0b1.js"><link rel="prefetch" href="/assets/js/202.803e7953.js"><link rel="prefetch" href="/assets/js/203.22ea6f56.js"><link rel="prefetch" href="/assets/js/204.cc46a02c.js"><link rel="prefetch" href="/assets/js/205.bbe81fb0.js"><link rel="prefetch" href="/assets/js/206.853dfa8d.js"><link rel="prefetch" href="/assets/js/207.a64b7442.js"><link rel="prefetch" href="/assets/js/208.e1981c17.js"><link rel="prefetch" href="/assets/js/209.cf82808c.js"><link rel="prefetch" href="/assets/js/21.20cf2ebe.js"><link rel="prefetch" href="/assets/js/210.e3470d18.js"><link rel="prefetch" href="/assets/js/211.2634117d.js"><link rel="prefetch" href="/assets/js/212.7b49aadf.js"><link rel="prefetch" href="/assets/js/213.27ef3142.js"><link rel="prefetch" href="/assets/js/214.4717433c.js"><link rel="prefetch" href="/assets/js/215.24dd0bc6.js"><link rel="prefetch" href="/assets/js/216.edd632b4.js"><link rel="prefetch" href="/assets/js/217.7ad4c172.js"><link rel="prefetch" href="/assets/js/218.c7dc25a0.js"><link rel="prefetch" href="/assets/js/219.13a241ae.js"><link rel="prefetch" href="/assets/js/22.ee43a3f5.js"><link rel="prefetch" href="/assets/js/220.40ff38e6.js"><link rel="prefetch" href="/assets/js/221.b1f25eb9.js"><link rel="prefetch" href="/assets/js/222.006a3b1a.js"><link rel="prefetch" href="/assets/js/223.9ef25f21.js"><link rel="prefetch" href="/assets/js/224.56198789.js"><link rel="prefetch" href="/assets/js/225.048d60cd.js"><link rel="prefetch" href="/assets/js/226.245306ff.js"><link rel="prefetch" href="/assets/js/227.b9cbc651.js"><link rel="prefetch" href="/assets/js/228.1f29258f.js"><link rel="prefetch" href="/assets/js/229.104af956.js"><link rel="prefetch" href="/assets/js/23.458e46ef.js"><link rel="prefetch" href="/assets/js/230.0bf080c3.js"><link rel="prefetch" href="/assets/js/231.fb34f0d1.js"><link rel="prefetch" href="/assets/js/232.432e8440.js"><link rel="prefetch" href="/assets/js/233.d8ef8676.js"><link rel="prefetch" href="/assets/js/234.4a8dcb5e.js"><link rel="prefetch" href="/assets/js/235.17294545.js"><link rel="prefetch" href="/assets/js/236.a331cc8d.js"><link rel="prefetch" href="/assets/js/237.2d368b39.js"><link rel="prefetch" href="/assets/js/238.a6d3d834.js"><link rel="prefetch" href="/assets/js/239.5dde1494.js"><link rel="prefetch" href="/assets/js/24.b9eea215.js"><link rel="prefetch" href="/assets/js/240.d2d559db.js"><link rel="prefetch" href="/assets/js/241.2cb9205d.js"><link rel="prefetch" href="/assets/js/242.b48a94fb.js"><link rel="prefetch" href="/assets/js/243.858e2bbe.js"><link rel="prefetch" href="/assets/js/244.42ef9e6c.js"><link rel="prefetch" href="/assets/js/245.d5dfb06d.js"><link rel="prefetch" href="/assets/js/246.d46dd929.js"><link rel="prefetch" href="/assets/js/247.871659ef.js"><link rel="prefetch" href="/assets/js/248.5a4f92da.js"><link rel="prefetch" href="/assets/js/249.63532643.js"><link rel="prefetch" href="/assets/js/25.77c0b96e.js"><link rel="prefetch" href="/assets/js/250.e28f422a.js"><link rel="prefetch" href="/assets/js/251.d34688a5.js"><link rel="prefetch" href="/assets/js/252.1f75b331.js"><link rel="prefetch" href="/assets/js/253.e63b518b.js"><link rel="prefetch" href="/assets/js/254.e4a32a45.js"><link rel="prefetch" href="/assets/js/255.b748d994.js"><link rel="prefetch" href="/assets/js/256.5e154ef8.js"><link rel="prefetch" href="/assets/js/257.0e700023.js"><link rel="prefetch" href="/assets/js/258.f08434dd.js"><link rel="prefetch" href="/assets/js/259.1e3ef6a1.js"><link rel="prefetch" href="/assets/js/26.2f272499.js"><link rel="prefetch" href="/assets/js/260.46aab616.js"><link rel="prefetch" href="/assets/js/261.fbd1c3ca.js"><link rel="prefetch" href="/assets/js/262.145a5d85.js"><link rel="prefetch" href="/assets/js/263.88f0e553.js"><link rel="prefetch" href="/assets/js/264.e3d36fd5.js"><link rel="prefetch" href="/assets/js/265.285ee151.js"><link rel="prefetch" href="/assets/js/266.08e3687c.js"><link rel="prefetch" href="/assets/js/267.79192097.js"><link rel="prefetch" href="/assets/js/268.b4f596fa.js"><link rel="prefetch" href="/assets/js/269.ebc29783.js"><link rel="prefetch" href="/assets/js/27.ccb5a40d.js"><link rel="prefetch" href="/assets/js/270.fc620129.js"><link rel="prefetch" href="/assets/js/271.12900391.js"><link rel="prefetch" href="/assets/js/272.c21f06ac.js"><link rel="prefetch" href="/assets/js/273.7ead5428.js"><link rel="prefetch" href="/assets/js/274.5401bdce.js"><link rel="prefetch" href="/assets/js/275.cb6be43c.js"><link rel="prefetch" href="/assets/js/276.6cccba98.js"><link rel="prefetch" href="/assets/js/277.8c9508a2.js"><link rel="prefetch" href="/assets/js/278.acdf06fa.js"><link rel="prefetch" href="/assets/js/279.3f7c7889.js"><link rel="prefetch" href="/assets/js/28.99236294.js"><link rel="prefetch" href="/assets/js/280.5e69fd89.js"><link rel="prefetch" href="/assets/js/281.aa20aee4.js"><link rel="prefetch" href="/assets/js/282.e7b46e40.js"><link rel="prefetch" href="/assets/js/283.8ad1c166.js"><link rel="prefetch" href="/assets/js/284.7d7d9826.js"><link rel="prefetch" href="/assets/js/285.8c177c0d.js"><link rel="prefetch" href="/assets/js/286.c2788ff1.js"><link rel="prefetch" href="/assets/js/287.9a2bbb6e.js"><link rel="prefetch" href="/assets/js/288.3f11768c.js"><link rel="prefetch" href="/assets/js/289.cd33bf66.js"><link rel="prefetch" href="/assets/js/29.5d00744c.js"><link rel="prefetch" href="/assets/js/290.16ecbce5.js"><link rel="prefetch" href="/assets/js/291.aa6d8980.js"><link rel="prefetch" href="/assets/js/292.68f30bd9.js"><link rel="prefetch" href="/assets/js/293.83cfc758.js"><link rel="prefetch" href="/assets/js/294.4ff890ca.js"><link rel="prefetch" href="/assets/js/295.b13bb7f5.js"><link rel="prefetch" href="/assets/js/296.e6763cb2.js"><link rel="prefetch" href="/assets/js/297.d4c7e8c0.js"><link rel="prefetch" href="/assets/js/298.9b1f773b.js"><link rel="prefetch" href="/assets/js/299.deaf62ba.js"><link rel="prefetch" href="/assets/js/30.4ddf0172.js"><link rel="prefetch" href="/assets/js/300.7a760c51.js"><link rel="prefetch" href="/assets/js/301.e4121d32.js"><link rel="prefetch" href="/assets/js/302.3079f447.js"><link rel="prefetch" href="/assets/js/303.67d147ac.js"><link rel="prefetch" href="/assets/js/31.c87b9af2.js"><link rel="prefetch" href="/assets/js/32.28a5d35d.js"><link rel="prefetch" href="/assets/js/33.ffd0ca43.js"><link rel="prefetch" href="/assets/js/34.b693b0c7.js"><link rel="prefetch" href="/assets/js/35.53294f09.js"><link rel="prefetch" href="/assets/js/36.38ed057d.js"><link rel="prefetch" href="/assets/js/37.a8212731.js"><link rel="prefetch" href="/assets/js/38.1cbc460b.js"><link rel="prefetch" href="/assets/js/39.843bf202.js"><link rel="prefetch" href="/assets/js/4.e78ddd70.js"><link rel="prefetch" href="/assets/js/40.3b61f02f.js"><link rel="prefetch" href="/assets/js/41.3fbf5fff.js"><link rel="prefetch" href="/assets/js/42.9930350e.js"><link rel="prefetch" href="/assets/js/43.08043987.js"><link rel="prefetch" href="/assets/js/44.7bb6fa2e.js"><link rel="prefetch" href="/assets/js/45.06a5fd2a.js"><link rel="prefetch" href="/assets/js/46.8e780329.js"><link rel="prefetch" href="/assets/js/47.7ab0eb68.js"><link rel="prefetch" href="/assets/js/48.02fbefce.js"><link rel="prefetch" href="/assets/js/49.5dbd79c9.js"><link rel="prefetch" href="/assets/js/5.778dc71e.js"><link rel="prefetch" href="/assets/js/50.04ba2a97.js"><link rel="prefetch" href="/assets/js/51.1ec44880.js"><link rel="prefetch" href="/assets/js/52.6d16baaa.js"><link rel="prefetch" href="/assets/js/53.f2d131cc.js"><link rel="prefetch" href="/assets/js/54.f4d4e29b.js"><link rel="prefetch" href="/assets/js/55.1381aace.js"><link rel="prefetch" href="/assets/js/56.8792ca93.js"><link rel="prefetch" href="/assets/js/57.94cb6f46.js"><link rel="prefetch" href="/assets/js/58.1af5559b.js"><link rel="prefetch" href="/assets/js/59.5bc8148d.js"><link rel="prefetch" href="/assets/js/6.f608629e.js"><link rel="prefetch" href="/assets/js/60.8ba3038c.js"><link rel="prefetch" href="/assets/js/61.8c3cd237.js"><link rel="prefetch" href="/assets/js/62.af299d82.js"><link rel="prefetch" href="/assets/js/63.5087b25e.js"><link rel="prefetch" href="/assets/js/64.15669372.js"><link rel="prefetch" href="/assets/js/65.9124a4da.js"><link rel="prefetch" href="/assets/js/66.573ee3e5.js"><link rel="prefetch" href="/assets/js/67.dc47b7ea.js"><link rel="prefetch" href="/assets/js/68.20b7a4c2.js"><link rel="prefetch" href="/assets/js/69.b6ceae78.js"><link rel="prefetch" href="/assets/js/7.2bc37bd5.js"><link rel="prefetch" href="/assets/js/70.8d40f4b0.js"><link rel="prefetch" href="/assets/js/71.70c40173.js"><link rel="prefetch" href="/assets/js/72.a41378c2.js"><link rel="prefetch" href="/assets/js/73.7c707312.js"><link rel="prefetch" href="/assets/js/74.b05a487c.js"><link rel="prefetch" href="/assets/js/75.ee9a891c.js"><link rel="prefetch" href="/assets/js/76.e65e43af.js"><link rel="prefetch" href="/assets/js/77.5ccc4ff1.js"><link rel="prefetch" href="/assets/js/78.d2790cfb.js"><link rel="prefetch" href="/assets/js/79.e555236d.js"><link rel="prefetch" href="/assets/js/80.6d3da3e2.js"><link rel="prefetch" href="/assets/js/81.7cdfa6f3.js"><link rel="prefetch" href="/assets/js/82.f10a5792.js"><link rel="prefetch" href="/assets/js/83.e681e766.js"><link rel="prefetch" href="/assets/js/84.7b0c279b.js"><link rel="prefetch" href="/assets/js/85.a63cf7bf.js"><link rel="prefetch" href="/assets/js/86.38e52f2c.js"><link rel="prefetch" href="/assets/js/87.848a8c86.js"><link rel="prefetch" href="/assets/js/88.a3a57346.js"><link rel="prefetch" href="/assets/js/89.1e0feb71.js"><link rel="prefetch" href="/assets/js/90.d0942c7c.js"><link rel="prefetch" href="/assets/js/91.dc39d458.js"><link rel="prefetch" href="/assets/js/92.f8a3f0e2.js"><link rel="prefetch" href="/assets/js/93.c4178057.js"><link rel="prefetch" href="/assets/js/94.4c547951.js"><link rel="prefetch" href="/assets/js/95.08e4e47c.js"><link rel="prefetch" href="/assets/js/96.2487033b.js"><link rel="prefetch" href="/assets/js/97.1ad5d1de.js"><link rel="prefetch" href="/assets/js/98.35d93ae0.js"><link rel="prefetch" href="/assets/js/99.21675304.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.c6e69708.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5fd99a46.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="神族九帝's blog" class="logo"> <span class="site-name can-hide">神族九帝's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="导航" class="dropdown-title"><!----> <span class="title" style="display:;">导航</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.kdocs.cn/l/cu04FUTRCy3V" target="_blank" rel="noopener noreferrer" class="nav-link external">
  神卡套餐
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://shenzjd.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  神族九帝
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://alist.shenzjd.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  网盘资源
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://news.shenzjd.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  今日热点
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://ps.shenzjd.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  在线PS
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://it-tools.shenzjd.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  IT工具
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://fc.shenzjd.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  FC游戏
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://wallpaper.shenzjd.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  在线壁纸
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试题" class="dropdown-title"><!----> <span class="title" style="display:;">面试题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/d4fd303b96708/" class="nav-link">面试突击</a></li><li class="dropdown-item"><!----> <a href="/pages/92a3d01d007d4/" class="nav-link">复习指导</a></li><li class="dropdown-item"><!----> <a href="/pages/41925dd005aac/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/pages/b7bfe8372b67a/" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/pages/873bcbd19d49b/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/pages/d35a839d5b4b6/" class="nav-link">设计模式</a></li><li class="dropdown-item"><!----> <a href="/pages/62502f3dd8041/" class="nav-link">浏览器</a></li><li class="dropdown-item"><!----> <a href="/pages/462a20be0048a/" class="nav-link">手写系列</a></li><li class="dropdown-item"><!----> <a href="/pages/7860f2c6dd001/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/pages/b9014c6cc5abc/" class="nav-link">Webpack</a></li><li class="dropdown-item"><!----> <a href="/pages/5ff5a12bd4bd2/" class="nav-link">Http</a></li><li class="dropdown-item"><!----> <a href="/pages/274217c7c2876/" class="nav-link">前端优化</a></li><li class="dropdown-item"><!----> <a href="/pages/318726d3f6062/" class="nav-link">项目</a></li><li class="dropdown-item"><!----> <a href="/pages/0d28ab62c07b1/" class="nav-link">面试真题</a></li><li class="dropdown-item"><!----> <a href="/pages/9eaae444f0d5b/" class="nav-link">算法</a></li><li class="dropdown-item"><!----> <a href="/pages/96c5de658a426/" class="nav-link">精选文章</a></li><li class="dropdown-item"><!----> <a href="/pages/11309122e2911/" class="nav-link">八股文</a></li><li class="dropdown-item"><!----> <a href="/pages/294378a3e4f4/" class="nav-link">前端工程化</a></li><li class="dropdown-item"><!----> <a href="/pages/b402a341959d/" class="nav-link">一面</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="笔记" class="dropdown-title"><!----> <span class="title" style="display:;">笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/b7de4855154b1/" class="nav-link">工作笔记</a></li><li class="dropdown-item"><!----> <a href="/pages/664ab7712895e/" class="nav-link">前端基础建设与架构 30 讲</a></li><li class="dropdown-item"><!----> <a href="/pages/de5e42d9aade5/" class="nav-link">vue2源码学习</a></li><li class="dropdown-item"><!----> <a href="/pages/9a973ad8de378/" class="nav-link">剖析vuejs内部运行机制</a></li><li class="dropdown-item"><!----> <a href="/pages/7b9593fc1d246/" class="nav-link">TypeScript 入门实战笔记</a></li><li class="dropdown-item"><!----> <a href="/pages/1b26a2a3224ed/" class="nav-link">vue3源码学习</a></li><li class="dropdown-item"><!----> <a href="/pages/6840ffe53b64e/" class="nav-link">2周刷完100道前端优质面试真题</a></li><li class="dropdown-item"><!----> <a href="/pages/b2402e45f8434/" class="nav-link">思维导图</a></li><li class="dropdown-item"><!----> <a href="/pages/df8208be80149/" class="nav-link">npm发包</a></li><li class="dropdown-item"><!----> <a href="/pages/9d3cce63f5b1f/" class="nav-link">重学node</a></li><li class="dropdown-item"><!----> <a href="/pages/82d13321f862e/" class="nav-link">前端性能优化方法与实战</a></li><li class="dropdown-item"><!----> <a href="/pages/70523322e3de7/" class="nav-link">webpack原理与实战</a></li><li class="dropdown-item"><!----> <a href="/pages/201ade54239a8/" class="nav-link">webGl</a></li><li class="dropdown-item"><!----> <a href="/pages/493b3e94e222f/" class="nav-link">前端优化</a></li><li class="dropdown-item"><!----> <a href="/pages/9215dd598cf2f/" class="nav-link">Web3</a></li><li class="dropdown-item"><!----> <a href="/pages/b360d8fb74ce7/" class="nav-link">React</a></li><li class="dropdown-item"><!----> <a href="/pages/654a66a46648a/" class="nav-link">更多</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="服务器" class="dropdown-title"><!----> <span class="title" style="display:;">服务器</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/559a89ed185a/" class="nav-link">未来要做的事</a></li><li class="dropdown-item"><!----> <a href="/pages/3643ef45ec2df/" class="nav-link">Stirling-PDF</a></li><li class="dropdown-item"><!----> <a href="/pages/84b570b268311/" class="nav-link">ComfyUI</a></li><li class="dropdown-item"><!----> <a href="/pages/48f2f48705e84/" class="nav-link">宝塔面板+青龙面板</a></li><li class="dropdown-item"><!----> <a href="/pages/fd345053693da/" class="nav-link">安卓手机当服务器使用</a></li><li class="dropdown-item"><!----> <a href="/pages/fabb9a071e3ab/" class="nav-link">京东自动评价代码</a></li><li class="dropdown-item"><!----> <a href="/pages/4e2e100aa5bc3/" class="nav-link">搭建x-ui免流服务器(已失效)</a></li><li class="dropdown-item"><!----> <a href="/pages/1ec52a9aef382/" class="nav-link">海外联盟</a></li><li class="dropdown-item"><!----> <a href="/pages/4f8522f268cc3/" class="nav-link">好玩的docker</a></li><li class="dropdown-item"><!----> <a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏夹</a></li><li class="dropdown-item"><!----> <a href="/pages/f9ef4c6a6f4e/" class="nav-link">更多</a></li></ul></div></div> <a href="https://github.com/wu529778790/wu529778790.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/logo.png"> <div class="blogger-info"><h3>神族九帝,永不言弃</h3> <span></span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="导航" class="dropdown-title"><!----> <span class="title" style="display:;">导航</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.kdocs.cn/l/cu04FUTRCy3V" target="_blank" rel="noopener noreferrer" class="nav-link external">
  神卡套餐
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://shenzjd.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  神族九帝
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://alist.shenzjd.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  网盘资源
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://news.shenzjd.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  今日热点
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://ps.shenzjd.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  在线PS
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://it-tools.shenzjd.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  IT工具
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://fc.shenzjd.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  FC游戏
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://wallpaper.shenzjd.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  在线壁纸
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试题" class="dropdown-title"><!----> <span class="title" style="display:;">面试题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/d4fd303b96708/" class="nav-link">面试突击</a></li><li class="dropdown-item"><!----> <a href="/pages/92a3d01d007d4/" class="nav-link">复习指导</a></li><li class="dropdown-item"><!----> <a href="/pages/41925dd005aac/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/pages/b7bfe8372b67a/" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/pages/873bcbd19d49b/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/pages/d35a839d5b4b6/" class="nav-link">设计模式</a></li><li class="dropdown-item"><!----> <a href="/pages/62502f3dd8041/" class="nav-link">浏览器</a></li><li class="dropdown-item"><!----> <a href="/pages/462a20be0048a/" class="nav-link">手写系列</a></li><li class="dropdown-item"><!----> <a href="/pages/7860f2c6dd001/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/pages/b9014c6cc5abc/" class="nav-link">Webpack</a></li><li class="dropdown-item"><!----> <a href="/pages/5ff5a12bd4bd2/" class="nav-link">Http</a></li><li class="dropdown-item"><!----> <a href="/pages/274217c7c2876/" class="nav-link">前端优化</a></li><li class="dropdown-item"><!----> <a href="/pages/318726d3f6062/" class="nav-link">项目</a></li><li class="dropdown-item"><!----> <a href="/pages/0d28ab62c07b1/" class="nav-link">面试真题</a></li><li class="dropdown-item"><!----> <a href="/pages/9eaae444f0d5b/" class="nav-link">算法</a></li><li class="dropdown-item"><!----> <a href="/pages/96c5de658a426/" class="nav-link">精选文章</a></li><li class="dropdown-item"><!----> <a href="/pages/11309122e2911/" class="nav-link">八股文</a></li><li class="dropdown-item"><!----> <a href="/pages/294378a3e4f4/" class="nav-link">前端工程化</a></li><li class="dropdown-item"><!----> <a href="/pages/b402a341959d/" class="nav-link">一面</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="笔记" class="dropdown-title"><!----> <span class="title" style="display:;">笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/b7de4855154b1/" class="nav-link">工作笔记</a></li><li class="dropdown-item"><!----> <a href="/pages/664ab7712895e/" class="nav-link">前端基础建设与架构 30 讲</a></li><li class="dropdown-item"><!----> <a href="/pages/de5e42d9aade5/" class="nav-link">vue2源码学习</a></li><li class="dropdown-item"><!----> <a href="/pages/9a973ad8de378/" class="nav-link">剖析vuejs内部运行机制</a></li><li class="dropdown-item"><!----> <a href="/pages/7b9593fc1d246/" class="nav-link">TypeScript 入门实战笔记</a></li><li class="dropdown-item"><!----> <a href="/pages/1b26a2a3224ed/" class="nav-link">vue3源码学习</a></li><li class="dropdown-item"><!----> <a href="/pages/6840ffe53b64e/" class="nav-link">2周刷完100道前端优质面试真题</a></li><li class="dropdown-item"><!----> <a href="/pages/b2402e45f8434/" class="nav-link">思维导图</a></li><li class="dropdown-item"><!----> <a href="/pages/df8208be80149/" class="nav-link">npm发包</a></li><li class="dropdown-item"><!----> <a href="/pages/9d3cce63f5b1f/" class="nav-link">重学node</a></li><li class="dropdown-item"><!----> <a href="/pages/82d13321f862e/" class="nav-link">前端性能优化方法与实战</a></li><li class="dropdown-item"><!----> <a href="/pages/70523322e3de7/" class="nav-link">webpack原理与实战</a></li><li class="dropdown-item"><!----> <a href="/pages/201ade54239a8/" class="nav-link">webGl</a></li><li class="dropdown-item"><!----> <a href="/pages/493b3e94e222f/" class="nav-link">前端优化</a></li><li class="dropdown-item"><!----> <a href="/pages/9215dd598cf2f/" class="nav-link">Web3</a></li><li class="dropdown-item"><!----> <a href="/pages/b360d8fb74ce7/" class="nav-link">React</a></li><li class="dropdown-item"><!----> <a href="/pages/654a66a46648a/" class="nav-link">更多</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="服务器" class="dropdown-title"><!----> <span class="title" style="display:;">服务器</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/559a89ed185a/" class="nav-link">未来要做的事</a></li><li class="dropdown-item"><!----> <a href="/pages/3643ef45ec2df/" class="nav-link">Stirling-PDF</a></li><li class="dropdown-item"><!----> <a href="/pages/84b570b268311/" class="nav-link">ComfyUI</a></li><li class="dropdown-item"><!----> <a href="/pages/48f2f48705e84/" class="nav-link">宝塔面板+青龙面板</a></li><li class="dropdown-item"><!----> <a href="/pages/fd345053693da/" class="nav-link">安卓手机当服务器使用</a></li><li class="dropdown-item"><!----> <a href="/pages/fabb9a071e3ab/" class="nav-link">京东自动评价代码</a></li><li class="dropdown-item"><!----> <a href="/pages/4e2e100aa5bc3/" class="nav-link">搭建x-ui免流服务器(已失效)</a></li><li class="dropdown-item"><!----> <a href="/pages/1ec52a9aef382/" class="nav-link">海外联盟</a></li><li class="dropdown-item"><!----> <a href="/pages/4f8522f268cc3/" class="nav-link">好玩的docker</a></li><li class="dropdown-item"><!----> <a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏夹</a></li><li class="dropdown-item"><!----> <a href="/pages/f9ef4c6a6f4e/" class="nav-link">更多</a></li></ul></div></div> <a href="https://github.com/wu529778790/wu529778790.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>工作笔记</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>前端基础建设与架构 30 讲</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/664ab7712895e/" class="sidebar-link">开篇词  像架构师一样思考，突破技术成长瓶颈</a></li><li><a href="/pages/49cd9ababc9a1/" class="sidebar-link">npm 安装机制及企业级部署私服原理</a></li><li><a href="/pages/09fbf8a1156b8/" class="sidebar-link">Yarn 的安装理念及如何破解依赖管理困境</a></li><li><a href="/pages/10f2ebc91b73c/" class="sidebar-link">CI 环境上的 npm 优化及更多工程化问题解析</a></li><li><a href="/pages/245300f457539/" class="sidebar-link">横向对比主流构建工具，了解构建工具的设计考量</a></li><li><a href="/pages/a094da54e65f/" class="sidebar-link">Vite 实现：从源码分析出发，构建 bundlele 开发工程</a></li><li><a href="/pages/3bbfdc8e7cf4/" class="sidebar-link">core-j 及垫片理念：设计一个“最完美”的 Polyfill 方案</a></li><li><a href="/pages/a0e586d6898f9/" class="sidebar-link">梳理混乱的 Babel，不再被编译报错困扰</a></li><li><a href="/pages/3caede772e761/" class="sidebar-link">探索前端工具链生态，制定一个统一标准化 babel-preet</a></li><li><a href="/pages/4dbb987bcfc5f/" class="sidebar-link">从实战出发，从 0 到 1 构建一个符合标准的公共库</a></li><li><a href="/pages/7f9d7786e6aa1/" class="sidebar-link">代码拆分和按需加载：缩减 bundle ize，把性能做到极致</a></li><li><a href="/pages/d7a25227c33fc/" class="sidebar-link">Tree Shaking：移除 JavaScript 上下文中的未引用代码</a></li><li><a href="/pages/d0d381c1e284e/" class="sidebar-link">如何理解 AST 实现和编译原理？</a></li><li><a href="/pages/773169c96a412/" class="sidebar-link">工程化思维处理方案：如何实现应用主题切换功能？</a></li><li><a href="/pages/943231620daa3/" class="sidebar-link">解析 Webpack 源码，实现自己的构建工具</a></li><li><a href="/pages/12102b0892053/" class="sidebar-link">从编译到运行，跨端解析小程序多端方案</a></li><li><a href="/pages/22b509db57f1a/" aria-current="page" class="active sidebar-link">原生跨平台技术：移动端跨平台到 Flutter 的技术变革</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/20b426615a1c8/" class="sidebar-link">学习 axio：封装一个结构清晰的 Fetch 库</a></li><li><a href="/pages/3c41f5dcb7811/" class="sidebar-link">对比 Koa 和 Redux：分析前端中的中间件理念</a></li><li><a href="/pages/328eaba5cae39/" class="sidebar-link">如何理解软件开发灵活性和高定制性？</a></li><li><a href="/pages/8df5b32829fc9/" class="sidebar-link">如何理解前端中面向对象的思想？</a></li><li><a href="/pages/55d7058b01d3d/" class="sidebar-link">如何利用 JavaScript 实现经典数据结构？</a></li><li><a href="/pages/073be8a8552d5/" class="sidebar-link">剖析前端中的数据结构应用场景</a></li><li><a href="/pages/8fad03ebb05b2/" class="sidebar-link">npm cript：打造一体化的构建和部署流程</a></li><li><a href="/pages/d07bdbfe6f9ce/" class="sidebar-link">自动化代码检查：剖析 Lint 工具和工程化接入&amp;优化方案</a></li><li><a href="/pages/378f678a7284b/" class="sidebar-link">如何设计一个前端 + 移动端离线包方案？</a></li><li><a href="/pages/c4145a056135d/" class="sidebar-link">如何设计一个“万能”项目脚手架？</a></li><li><a href="/pages/c78977462af88/" class="sidebar-link">同构渲染架构：实现一个 SSR 应用</a></li><li><a href="/pages/6287d534540ad/" class="sidebar-link">设计性能守卫系统：完善 CICD 流程</a></li><li><a href="/pages/5418c92e818e/" class="sidebar-link">实践打造网关：改造企业 BFF 方案</a></li><li><a href="/pages/eeb2a33385edd/" class="sidebar-link">实现高可用：使用 Puppeteer 生成性能最优的海报系统</a></li><li><a href="/pages/b559221c07262/" class="sidebar-link">结束语  再谈项目的基建和架构，个人的价值和方向</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue2源码学习</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>剖析vuejs内部运行机制</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TypeScript 入门实战笔记</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue3源码学习</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>2周刷完100道前端优质面试真题</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>思维导图</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>npm发包</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>重学node</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端性能优化方法与实战</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>webpack原理与实战</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>webGl</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端优化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Web3</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>更多</span> <span class="arrow right"></span></p> <!----></section></li></ul> <div class="sidebar-slot sidebar-slot-bottom"><!-- 正方形 -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="3508773082"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div></aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-071ed482><div class="articleInfo" data-v-071ed482><ul class="breadcrumbs" data-v-071ed482><li data-v-071ed482><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-071ed482></a></li> <li data-v-071ed482><a href="/categories/?category=%E7%AC%94%E8%AE%B0" title="分类" data-v-071ed482>笔记</a></li> <li data-v-071ed482><a href="/categories/?category=%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80%E5%BB%BA%E8%AE%BE%E4%B8%8E%E6%9E%B6%E6%9E%84%2030%20%E8%AE%B2" title="分类" data-v-071ed482>前端基础建设与架构 30 讲</a></li> <!----></ul> <div class="info" data-v-071ed482><div title="作者" class="author iconfont icon-touxiang" data-v-071ed482><a href="https://shenzjd.com" target="_blank" title="作者" class="beLink" data-v-071ed482>wu529778790</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-071ed482><a href="javascript:;" data-v-071ed482>2024-04-07</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">
          原生跨平台技术：移动端跨平台到 Flutter 的技术变革
        </h1> <div class="page-slot page-slot-top"><!-- 固定100% * 90px可显示，max-height:90px未见显示-->
     <ins class="adsbygoogle"
          style="display:inline-block;width:100%;max-height:90px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6625304284"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="theme-vdoing-content content__default"><p data-nodeid="185601">跨平台其实是一个老生常谈的话题，技术方案也是历经变迁，但始终热点不断，究其原因有二：</p> <ul data-nodeid="185602"><li data-nodeid="185603"><p data-nodeid="185604">首先，移动端原生技术需要配备 iOS 和 Android 两套团队和技术栈，且存在<strong data-nodeid="185720">发版周期限制</strong>，开发效率上存在天然缺陷；</p></li> <li data-nodeid="185605"><p data-nodeid="185606">其次，原生跨平台技术虽然“出道”较早，但是各方案都难以做到完美，因此也<strong data-nodeid="185726">没有大一统的技术垄断</strong>。</p></li></ul> <p data-nodeid="185607">这一讲我们就从历史角度出发，剖析原生跨平台技术的原理，同时梳理相关技术热点，和你聊一聊 Flutter 背后的技术变革。</p> <h3 data-nodeid="185608">移动端跨平台技术原理和变迁</h3> <p data-nodeid="185609">移动端跨平台是一个美好的愿景。我们先来看一下移动端跨平台技术发展的时间线：</p> <p data-nodeid="186015"><img src="https://s0.lgstatic.com/i/image/M00/94/AD/Ciqc1GAZK5OADuyQAAIWqX8rFbk913.png" alt="Lark20210202-183723.png" data-nodeid="186018"></p> <h4 data-nodeid="185611">基于 WebView 到 JSBridge 的 Hybrid 方案发展</h4> <p data-nodeid="185612">最早的实践就是通过 WebView 双端运行 Web 代码。事实上，虽然 iOS 和 Android 系统难以统一，但是它们都对 Web 技术开放，于是有的人开玩笑：“不管是 Mac、Windows、Linux、iOS、Android 还是其他平台，只要给一个浏览器，连‘月球’上它都能跑。”因此，<strong data-nodeid="185743">Hybrid 方案</strong>算是最古老，但也是<strong data-nodeid="185744">最成熟、应用最为广泛</strong>的技术。</p> <p data-nodeid="185613">在 iOS 和 Android 系统上运行 JavaScript 并不是一件难事儿，但是对于一个真正意义上的跨平台应用来说，还需要做到<strong data-nodeid="185750">H5（即 WebView 容器）和原生平台的交互</strong>，于是 JSBridge 技术就诞生了。</p> <p data-nodeid="185614">JSBridge 原理很简单，我们知道，在原生平台中，JavaScript 代码是运行在一个单独的 JS Context 中（比如 WebView 的 WebKit 引擎、JavaSriptCore 等），这个独立的上下文和原生能力的交互过程是双向的，我们可以从两个方面简要分析。</p> <ol data-nodeid="185615"><li data-nodeid="185616"><p data-nodeid="185617">JavaScript 调用 Native，方法有：</p> <ul data-nodeid="185618"><li data-nodeid="185619"><p data-nodeid="185620">注入 APIs；</p></li> <li data-nodeid="185621"><p data-nodeid="185622">拦截 URL Scheme。</p></li></ul></li> <li data-nodeid="185623"><p data-nodeid="185624">Native 调用 JavaScript。</p></li></ol> <p data-nodeid="185625">前端调用原生能力主要有两种方式，注入 APIs 其实就是原生平台通过 WebView 提供的接口，向 JavaScript Context 中（一般使用 Window 对象），注入相关方案和数据；另一种拦截 URL Scheme 就更加简单了，前端通过发送定义好的 URL Scheme 请求，并将相关数据放在请求体中，该请求被原生平台拦截后，由原生平台做出响应。</p> <p data-nodeid="185626">Native 调用 JavaScript，实现起来也很简单。因为 Native 实际上是 WebView 的宿主，因此 Native 具有更大权限，故而<strong data-nodeid="185762">原生平台可以通过 WebView APIs 直接执行 JavaScript 代码</strong>。</p> <p data-nodeid="185627">随着 JSBridge 这种方式实现跨平台技术的成熟，社区上出现了 Cordova、Ionic 等框架，它们<strong data-nodeid="185768">本质上都是使用 HTML、CSS 和 JavaScript 进行跨平台原生应用的开发</strong>。该方案说到底是在 iOS 和 Androd 上运行 Web 应用，因此也存在较多问题，比如：</p> <ul data-nodeid="185628"><li data-nodeid="185629"><p data-nodeid="185630">JavaScript Context 和原生通信频繁，导致性能体验较差；</p></li> <li data-nodeid="185631"><p data-nodeid="185632">页面逻辑由前端负责，组件也是前端渲染，也造成了性能短板；</p></li> <li data-nodeid="185633"><p data-nodeid="185634">运行 JavaScript 的 WebView 内核在各平台上不统一；</p></li> <li data-nodeid="185635"><p data-nodeid="185636">国内厂商对于系统的深度定制，导致内核碎片化。</p></li></ul> <p data-nodeid="185637">因此，新一代的 Hybrid 跨平台方式，以<strong data-nodeid="185782">React Native 为代表</strong>的方案就诞生了，这种方案主要思想是：开发者依然<strong data-nodeid="185783">使用 Web 语言（如 React 框架或其他 DSL），但渲染基本交给原生平台处理。</strong> 这样一来，在视图层面就可以摆脱 WebView 的束缚，保障了开发体验和效率，以及使用性能。我把这种技术叫作基于 OEM 的 Hybrid 方案。</p> <p data-nodeid="185638">React Native 脱胎于 React 理念，它将数据与视图相隔离，<strong data-nodeid="185789">React Native 代码中的标签映射为虚拟节点，由原生平台解析虚拟节点并渲染出原生组件</strong>。美好的愿景是：开发者使用 React 语法，同时开发原生应用和 Web 应用，其中组件渲染、动画效果、网络请求等都由原生平台来负责。整体技术架构如下图：</p> <p data-nodeid="186847"><img src="https://s0.lgstatic.com/i/image/M00/94/AD/Ciqc1GAZK5-ASl0rAAMYrAXB4Po374.png" alt="Lark20210202-183726.png" data-nodeid="186851"></p> <div data-nodeid="186848"><p style="text-align:center;">React Native 技术架构图</p></div> <p data-nodeid="185641">如上图，React Native 主要由：</p> <ul data-nodeid="185642"><li data-nodeid="185643"><p data-nodeid="185644">JavaScript</p></li> <li data-nodeid="185645"><p data-nodeid="185646">C++ 适配层</p></li> <li data-nodeid="185647"><p data-nodeid="185648">iOS/Androd</p></li></ul> <p data-nodeid="185649">三层组成，最重要的<strong data-nodeid="185810">C++ 层实现了动态链接库</strong>，起到了衔接适配前端和原生平台作用，这个衔接具体指：使用 JavaScriptCore 解析 JavaScript 代码（iOS 上不允许用自己的 JS Engine，iOS 7+ 默认使用 JavaScriptCore，Android 也默认使用 JavaScriptCore），通过 <a href="https://github.com/facebook/react-native/blob/master/Libraries/BatchedBridge/MessageQueue.js" data-nodeid="185804">MessageQueue.js</a> 实现双向通信，<strong data-nodeid="185811">实际上通信格式类似 JSON-RPC</strong>。</p> <p data-nodeid="185650">这里我们以一个从 JavaScript 传递数据给原生平台 <a href="https://github.com/facebook/react-native/blob/master/ReactAndroid/src/main/java/com/facebook/react/uimanager/UIManagerModule.java" data-nodeid="185815">UIManager</a> 更新页面视图为例，了解下数据信息内容：</p> <pre data-nodeid="185651" class="lang-java"><code data-language="java"><span class="hljs-number">2584</span> I ReactNativeJS: Running application <span class="hljs-string">&quot;MoviesApp&quot;</span> with appParams: {<span class="hljs-string">&quot;initialProps&quot;</span>:{},<span class="hljs-string">&quot;rootTag&quot;</span>:<span class="hljs-number">1</span>}. __DEV__ === <span class="hljs-keyword">false</span>, development-level warning are OFF, performance optimizations are ON
<span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.createView([<span class="hljs-number">4</span>,<span class="hljs-string">&quot;RCTView&quot;</span>,<span class="hljs-number">1</span>,{<span class="hljs-string">&quot;flex&quot;</span>:<span class="hljs-number">1</span>,<span class="hljs-string">&quot;overflow&quot;</span>:<span class="hljs-string">&quot;hidden&quot;</span>,<span class="hljs-string">&quot;backgroundColor&quot;</span>:-<span class="hljs-number">1</span>}])
<span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.createView([<span class="hljs-number">5</span>,<span class="hljs-string">&quot;RCTView&quot;</span>,<span class="hljs-number">1</span>,{<span class="hljs-string">&quot;flex&quot;</span>:<span class="hljs-number">1</span>,<span class="hljs-string">&quot;backgroundColor&quot;</span>:<span class="hljs-number">0</span>,<span class="hljs-string">&quot;overflow&quot;</span>:<span class="hljs-string">&quot;hidden&quot;</span>}])
<span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.createView([<span class="hljs-number">6</span>,<span class="hljs-string">&quot;RCTView&quot;</span>,<span class="hljs-number">1</span>,{<span class="hljs-string">&quot;pointerEvents&quot;</span>:<span class="hljs-string">&quot;auto&quot;</span>,<span class="hljs-string">&quot;position&quot;</span>:<span class="hljs-string">&quot;absolute&quot;</span>,<span class="hljs-string">&quot;overflow&quot;</span>:<span class="hljs-string">&quot;hidden&quot;</span>,<span class="hljs-string">&quot;left&quot;</span>:<span class="hljs-number">0</span>,<span class="hljs-string">&quot;right&quot;</span>:<span class="hljs-number">0</span>,<span class="hljs-string">&quot;bottom&quot;</span>:<span class="hljs-number">0</span>,<span class="hljs-string">&quot;top&quot;</span>:<span class="hljs-number">0</span>}])
<span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.createView([<span class="hljs-number">7</span>,<span class="hljs-string">&quot;RCTView&quot;</span>,<span class="hljs-number">1</span>,{<span class="hljs-string">&quot;flex&quot;</span>:<span class="hljs-number">1</span>,<span class="hljs-string">&quot;backgroundColor&quot;</span>:-<span class="hljs-number">1</span>}])
<span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.createView([<span class="hljs-number">8</span>,<span class="hljs-string">&quot;RCTView&quot;</span>,<span class="hljs-number">1</span>,{<span class="hljs-string">&quot;flexDirection&quot;</span>:<span class="hljs-string">&quot;row&quot;</span>,<span class="hljs-string">&quot;alignItems&quot;</span>:<span class="hljs-string">&quot;center&quot;</span>,<span class="hljs-string">&quot;backgroundColor&quot;</span>:-<span class="hljs-number">5658199</span>,<span class="hljs-string">&quot;height&quot;</span>:<span class="hljs-number">56</span>}])
<span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.createView([<span class="hljs-number">9</span>,<span class="hljs-string">&quot;RCTView&quot;</span>,<span class="hljs-number">1</span>,{<span class="hljs-string">&quot;nativeBackgroundAndroid&quot;</span>:{<span class="hljs-string">&quot;type&quot;</span>:<span class="hljs-string">&quot;ThemeAttrAndroid&quot;</span>,<span class="hljs-string">&quot;attribute&quot;</span>:<span class="hljs-string">&quot;selectableItemBackgroundBorderless&quot;</span>},<span class="hljs-string">&quot;accessible&quot;</span>:<span class="hljs-keyword">true</span>}])
<span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.createView([<span class="hljs-number">10</span>,<span class="hljs-string">&quot;RCTImageView&quot;</span>,<span class="hljs-number">1</span>,{<span class="hljs-string">&quot;width&quot;</span>:<span class="hljs-number">24</span>,<span class="hljs-string">&quot;height&quot;</span>:<span class="hljs-number">24</span>,<span class="hljs-string">&quot;overflow&quot;</span>:<span class="hljs-string">&quot;hidden&quot;</span>,<span class="hljs-string">&quot;marginHorizontal&quot;</span>:<span class="hljs-number">8</span>,<span class="hljs-string">&quot;shouldNotifyLoadEvents&quot;</span>:<span class="hljs-keyword">false</span>,<span class="hljs-string">&quot;src&quot;</span>:[{<span class="hljs-string">&quot;uri&quot;</span>:<span class="hljs-string">&quot;android_search_white&quot;</span>}],<span class="hljs-string">&quot;loadingIndicatorSrc&quot;</span>:<span class="hljs-keyword">null</span>}])
<span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.setChildren([<span class="hljs-number">9</span>,[<span class="hljs-number">10</span>]])
<span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.createView([<span class="hljs-number">12</span>,<span class="hljs-string">&quot;AndroidTextInput&quot;</span>,<span class="hljs-number">1</span>,{<span class="hljs-string">&quot;autoCapitalize&quot;</span>:<span class="hljs-number">0</span>,<span class="hljs-string">&quot;autoCorrect&quot;</span>:<span class="hljs-keyword">false</span>,<span class="hljs-string">&quot;placeholder&quot;</span>:<span class="hljs-string">&quot;Search a movie...&quot;</span>,<span class="hljs-string">&quot;placeholderTextColor&quot;</span>:-<span class="hljs-number">2130706433</span>,<span class="hljs-string">&quot;flex&quot;</span>:<span class="hljs-number">1</span>,<span class="hljs-string">&quot;fontSize&quot;</span>:<span class="hljs-number">20</span>,<span class="hljs-string">&quot;fontWeight&quot;</span>:<span class="hljs-string">&quot;bold&quot;</span>,<span class="hljs-string">&quot;color&quot;</span>:-<span class="hljs-number">1</span>,<span class="hljs-string">&quot;height&quot;</span>:<span class="hljs-number">50</span>,<span class="hljs-string">&quot;padding&quot;</span>:<span class="hljs-number">0</span>,<span class="hljs-string">&quot;backgroundColor&quot;</span>:<span class="hljs-number">0</span>,<span class="hljs-string">&quot;mostRecentEventCount&quot;</span>:<span class="hljs-number">0</span>,<span class="hljs-string">&quot;onSelectionChange&quot;</span>:<span class="hljs-keyword">true</span>,<span class="hljs-string">&quot;text&quot;</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;accessible&quot;</span>:<span class="hljs-keyword">true</span>}])
<span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.createView([<span class="hljs-number">13</span>,<span class="hljs-string">&quot;RCTView&quot;</span>,<span class="hljs-number">1</span>,{<span class="hljs-string">&quot;alignItems&quot;</span>:<span class="hljs-string">&quot;center&quot;</span>,<span class="hljs-string">&quot;justifyContent&quot;</span>:<span class="hljs-string">&quot;center&quot;</span>,<span class="hljs-string">&quot;width&quot;</span>:<span class="hljs-number">30</span>,<span class="hljs-string">&quot;height&quot;</span>:<span class="hljs-number">30</span>,<span class="hljs-string">&quot;marginRight&quot;</span>:<span class="hljs-number">16</span>}])
<span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.createView([<span class="hljs-number">14</span>,<span class="hljs-string">&quot;AndroidProgressBar&quot;</span>,<span class="hljs-number">1</span>,{<span class="hljs-string">&quot;animating&quot;</span>:<span class="hljs-keyword">false</span>,<span class="hljs-string">&quot;color&quot;</span>:-<span class="hljs-number">1</span>,<span class="hljs-string">&quot;width&quot;</span>:<span class="hljs-number">36</span>,<span class="hljs-string">&quot;height&quot;</span>:<span class="hljs-number">36</span>,<span class="hljs-string">&quot;styleAttr&quot;</span>:<span class="hljs-string">&quot;Normal&quot;</span>,<span class="hljs-string">&quot;indeterminate&quot;</span>:<span class="hljs-keyword">true</span>}])
<span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.setChildren([<span class="hljs-number">13</span>,[<span class="hljs-number">14</span>]])
<span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.setChildren([<span class="hljs-number">8</span>,[<span class="hljs-number">9</span>,<span class="hljs-number">12</span>,<span class="hljs-number">13</span>]])
<span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.createView([<span class="hljs-number">15</span>,<span class="hljs-string">&quot;RCTView&quot;</span>,<span class="hljs-number">1</span>,{<span class="hljs-string">&quot;height&quot;</span>:<span class="hljs-number">1</span>,<span class="hljs-string">&quot;backgroundColor&quot;</span>:-<span class="hljs-number">1118482</span>}])
<span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.createView([<span class="hljs-number">16</span>,<span class="hljs-string">&quot;RCTView&quot;</span>,<span class="hljs-number">1</span>,{<span class="hljs-string">&quot;flex&quot;</span>:<span class="hljs-number">1</span>,<span class="hljs-string">&quot;backgroundColor&quot;</span>:-<span class="hljs-number">1</span>,<span class="hljs-string">&quot;alignItems&quot;</span>:<span class="hljs-string">&quot;center&quot;</span>}])
<span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.createView([<span class="hljs-number">17</span>,<span class="hljs-string">&quot;RCTText&quot;</span>,<span class="hljs-number">1</span>,{<span class="hljs-string">&quot;marginTop&quot;</span>:<span class="hljs-number">80</span>,<span class="hljs-string">&quot;color&quot;</span>:-<span class="hljs-number">7829368</span>,<span class="hljs-string">&quot;accessible&quot;</span>:<span class="hljs-keyword">true</span>,<span class="hljs-string">&quot;allowFontScaling&quot;</span>:<span class="hljs-keyword">true</span>,<span class="hljs-string">&quot;ellipsizeMode&quot;</span>:<span class="hljs-string">&quot;tail&quot;</span>}])
<span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.createView([<span class="hljs-number">18</span>,<span class="hljs-string">&quot;RCTRawText&quot;</span>,<span class="hljs-number">1</span>,{<span class="hljs-string">&quot;text&quot;</span>:<span class="hljs-string">&quot;No movies found&quot;</span>}])
<span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.setChildren([<span class="hljs-number">17</span>,[<span class="hljs-number">18</span>]])
<span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.setChildren([<span class="hljs-number">16</span>,[<span class="hljs-number">17</span>]])
<span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.setChildren([<span class="hljs-number">7</span>,[<span class="hljs-number">8</span>,<span class="hljs-number">15</span>,<span class="hljs-number">16</span>]])
<span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.setChildren([<span class="hljs-number">6</span>,[<span class="hljs-number">7</span>]])
<span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.setChildren([<span class="hljs-number">5</span>,[<span class="hljs-number">6</span>]])
<span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.setChildren([<span class="hljs-number">4</span>,[<span class="hljs-number">5</span>]])
<span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.setChildren([<span class="hljs-number">3</span>,[<span class="hljs-number">4</span>]])
<span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.setChildren([<span class="hljs-number">2</span>,[<span class="hljs-number">3</span>]])
<span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.setChildren([<span class="hljs-number">1</span>,[<span class="hljs-number">2</span>]])
</code></pre> <p data-nodeid="185652">下面数据是一个 touch 交互信息，JavaScriptCore 传递用户 touch 信息给原生平台：</p> <pre data-nodeid="185653" class="lang-java"><code data-language="java"><span class="hljs-number">2584</span> I ReactNativeJS: N-&gt;JS : RCTEventEmitter.receiveTouches([<span class="hljs-string">&quot;topTouchStart&quot;</span>,[{<span class="hljs-string">&quot;identifier&quot;</span>:<span class="hljs-number">0</span>,<span class="hljs-string">&quot;locationY&quot;</span>:<span class="hljs-number">47.9301872253418</span>,<span class="hljs-string">&quot;locationX&quot;</span>:<span class="hljs-number">170.43936157226562</span>,<span class="hljs-string">&quot;pageY&quot;</span>:<span class="hljs-number">110.02542877197266</span>,<span class="hljs-string">&quot;timestamp&quot;</span>:<span class="hljs-number">2378613</span>,<span class="hljs-string">&quot;target&quot;</span>:<span class="hljs-number">26</span>,<span class="hljs-string">&quot;pageX&quot;</span>:<span class="hljs-number">245.4869842529297</span>}],[<span class="hljs-number">0</span>]])
<span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : Timing.createTimer([<span class="hljs-number">18</span>,<span class="hljs-number">130</span>,<span class="hljs-number">1477140761852</span>,<span class="hljs-keyword">false</span>])
<span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : Timing.createTimer([<span class="hljs-number">19</span>,<span class="hljs-number">500</span>,<span class="hljs-number">1477140761852</span>,<span class="hljs-keyword">false</span>])
<span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.setJSResponder([<span class="hljs-number">23</span>,<span class="hljs-keyword">false</span>])
<span class="hljs-number">2584</span> I ReactNativeJS: N-&gt;JS : RCTEventEmitter.receiveTouches([<span class="hljs-string">&quot;topTouchEnd&quot;</span>,[{<span class="hljs-string">&quot;identifier&quot;</span>:<span class="hljs-number">0</span>,<span class="hljs-string">&quot;locationY&quot;</span>:<span class="hljs-number">47.9301872253418</span>,<span class="hljs-string">&quot;locationX&quot;</span>:<span class="hljs-number">170.43936157226562</span>,<span class="hljs-string">&quot;pageY&quot;</span>:<span class="hljs-number">110.02542877197266</span>,<span class="hljs-string">&quot;timestamp&quot;</span>:<span class="hljs-number">2378703</span>,<span class="hljs-string">&quot;target&quot;</span>:<span class="hljs-number">26</span>,<span class="hljs-string">&quot;pageX&quot;</span>:<span class="hljs-number">245.4869842529297</span>}],[<span class="hljs-number">0</span>]])
<span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : UIManager.clearJSResponder([])
<span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : Timing.deleteTimer([<span class="hljs-number">19</span>])
<span class="hljs-number">2584</span> I ReactNativeJS: JS-&gt;N : Timing.deleteTimer([<span class="hljs-number">18</span>])
</code></pre> <p data-nodeid="185654">除了 UI 渲染、交互信息、网络调用等通信也都是通过 MessageQueue 来完成，如下数据， JavaScriptCore 传递网络请求信息给原生平台：</p> <pre data-nodeid="185655" class="lang-java"><code data-language="java">5835 I ReactNativeJS: JS-&gt;N : Networking.sendRequest([&quot;GET&quot;,&quot;http://api.rottentomatoes.com/api/public/v1.0/lists/movies/in_theaters.json?apikey=7waqfqbprs7pajbz28mqf6vz&amp;page_limit=20&amp;page=1&quot;,1,[],{&quot;trackingName&quot;:&quot;unknown&quot;},&quot;text&quot;,false,0])
5835 I ReactNativeJS: N-&gt;JS : RCTDeviceEventEmitter.emit([&quot;didReceiveNetworkResponse&quot;,[1,200,{&quot;Connection&quot;:&quot;keep-alive&quot;,&quot;X-Xss-Protection&quot;:&quot;1; mode=block&quot;,&quot;Content-Security-Policy&quot;:&quot;frame-ancestors 'self' rottentomatoes.com *.rottentomatoes.com ;&quot;,&quot;Date&quot;:&quot;Sat, 22 Oct 2016 13:58:53 GMT&quot;,&quot;Set-Cookie&quot;:&quot;JSESSIONID=63B283B5ECAA9BBECAE253E44455F25B; Path=/; HttpOnly&quot;,&quot;Server&quot;:&quot;nginx/1.8.1&quot;,&quot;X-Content-Type-Options&quot;:&quot;nosniff&quot;,&quot;X-Mashery-Responder&quot;:&quot;prod-j-worker-us-east-1b-115.mashery.com&quot;,&quot;Vary&quot;:&quot;User-Agent,Accept-Encoding&quot;,&quot;Content-Language&quot;:&quot;en-US&quot;,&quot;Content-Type&quot;:&quot;text/javascript;charset=ISO-8859-1&quot;,&quot;X-Content-Security-Policy&quot;:&quot;frame-ancestors 'self' rottentomatoes.com *.rottentomatoes.com ;&quot;},&quot;http://api.rottentomatoes.com/api/public/v1.0/lists/movies/in_theaters.json?apikey=7waqfqbprs7pajbz28mqf6vz&amp;page_limit=20&amp;page=1&quot;]])
5835 I ReactNativeJS: N-&gt;JS : RCTDeviceEventEmitter.emit([&quot;didReceiveNetworkData&quot;,[1,&quot;{\&quot;total\&quot;:128,\&quot;movies\&quot;:[{\&quot;id\&quot;:\&quot;771419323\&quot;,\&quot;title\&quot;:\&quot;The Accountant\&quot;,\&quot;year\&quot;:2016,\&quot;mpaa_rating\&quot;:\&quot;R\&quot;,\&quot;runtime\&quot;:128,\&quot;critics_consensus\&quot;:\&quot;\&quot;,\&quot;release_dates\&quot;:{\&quot;theater\&quot;:\&quot;2016-10-14\&quot;},\&quot;ratings\&quot;:{\&quot;critics_rating\&quot;:\&quot;Rotten\&quot;,\&quot;critics_score\&quot;:50,\&quot;audience_rating\&quot;:\&quot;Upright\&quot;,\&quot;audience_score\&quot;:86},\&quot;synopsis\&quot;:\&quot;Christian Wolff (Ben Affleck) is a math savant with more affinity for numbers than people. Behind the cover of a small-town CPA office, he works as a freelance accountant for some of the world's most dangerous criminal organizations. With the Treasury Department's Crime Enforcement Division, run by Ray King (J.K. Simmons), starting to close in, Christian takes on a legitimate client: a state-of-the-art robotics company where an accounting clerk (Anna Kendrick) has discovered a discrepancy involving millions of dollars. But as Christian uncooks the books and gets closer to the truth, it is the body count that starts to rise.\&quot;,\&quot;posters\&quot;:{\&quot;thumbnail\&quot;:\&quot;https://resizing.flixster.com/r5vvWsTP7cdijsCrE5PSmzle-Zo=/54x80/v1.bTsxMjIyMzc0MTtqOzE3MTgyOzIwNDg7NDA1MDs2MDAw\&quot;,\&quot;profile\&quot;:\&quot;https://resizing.flixster.com/r5vvWsTP7cdijsCrE5PSmzle-Zo=/54x80/v1.bTsxMjIyMzc0MTtqOzE3MTgyOzIwNDg7NDA1MDs2MDAw\&quot;,\&quot;detailed\&quot;:\&quot;https://resizing.flixster.com/r5vvWsTP7cdijsCrE5PSmzle-Zo=/54x80/v1.bTsxMjIyMzc0MTtqOzE3MTgyOzIwNDg7NDA1MDs2MDAw\&quot;,\&quot;original\&quot;:\&quot;https://resizing.flixster.com/r5vvWsTP7cdijsCrE5PSmzle-Zo=/54x80/v1.bTsxMjIyMzc0MTtqOzE3MTgyOzIwNDg7NDA1MDs2MDAw\&quot;},\&quot;abridged_cast\&quot;:[{\&quot;name\&quot;:\&quot;Ben Affleck\&quot;,\&quot;id\&quot;:\&quot;162665891\&quot;,\&quot;characters\&quot;:[\&quot;Christian Wolff\&quot;]},{\&quot;name\&quot;:\&quot;Anna Kendrick\&quot;,\&quot;id\&quot;:\&quot;528367112\&quot;,\&quot;characters\&quot;:[\&quot;Dana Cummings\&quot;]},{\&quot;name\&quot;:\&quot;J.K. Simmons\&quot;,\&quot;id\&quot;:\&quot;592170459\&quot;,\&quot;characters\&quot;:[\&quot;Ray King\&quot;]},{\&quot;name\&quot;:\&quot;Jon Bernthal\&quot;,\&quot;id\&quot;:\&quot;770682766\&quot;,\&quot;characters\&quot;:[\&quot;Brax\&quot;]},{\&quot;name\&quot;:\&quot;Jeffrey Tambor\&quot;,\&quot;id\&quot;:\&quot;162663809\&quot;,\&quot;characters\&quot;:[\&quot;Francis Silverberg\&quot;]}],\&quot;links\&quot;:{\&quot;self\&quot;:\&quot;http://api.rottentomatoes.com/api/public/v1.0/movies/771419323.json\&quot;,\&quot;alternate\&quot;:\&quot;http://www.rottentomatoes.com/m/the_accountant_2016/\&quot;,\&quot;cast\&quot;:\&quot;http://api.rottentomatoes.com/api/public/v1.0/movies/771419323/cast.json\&quot;,\&quot;reviews\&quot;:\&quot;http://api.rottentomatoes.com/api/public/v1.0/movies/771419323/reviews.json\&quot;,\&quot;similar\&quot;:\&quot;http://api.rottentomatoes.com/api/public/v1.0/movies/771419323/similar.json\&quot;}},{\&quot;id\&quot;:\&quot;771359360\&quot;,\&quot;title\&quot;:\&quot;Miss Peregrine's Home for Peculiar Children\&quot;,\&quot;year\&quot;:2016,\&quot;mpaa_rating\&quot;:\&quot;PG-13\&quot;,\&quot;runtime\&quot;:127,\&quot;critics_consensus\&quot;:\&quot;\&quot;,\&quot;release_dates\&quot;:{\&quot;theater\&quot;:\&quot;2016-09-30\&quot;},\&quot;ratings\&quot;:{\&quot;critics_rating\&quot;:\&quot;Fresh\&quot;,\&quot;critics_score\&quot;:64,\&quot;audience_rating\&quot;:\&quot;Upright\&quot;,\&quot;audience_score\&quot;:65},\&quot;synopsis\&quot;:\&quot;From visionary director Tim Burton, and based upon the best-selling novel, comes an unforgettable motion picture experience. When Jake discovers clues to a mystery that spans different worlds and times, he finds a magical place known as Miss Peregrine's Home for Peculiar Children. But the mystery and danger deepen as he gets to know the residents and learns about their special powers...and their powerful enemies. Ultimately, Jake discovers that only his own special \\\&quot;peculiarity\\\&quot; can save his new friends.\&quot;,\&quot;posters\&quot;:{\&quot;thumbnail\&quot;:\&quot;https://resizing.flixster.com/H1Mt4WpK-Mp431M7w0w7thQyfV8=/54x80/v1.bTsxMTcwODA4MDtqOzE3MTI1OzIwNDg7NTQwOzgwMA\&quot;,\&quot;profile\&quot;:\&quot;https://resizing.flixster.com/H1Mt4WpK-Mp431M7w0w7thQyfV8=/54x80/v1.bTsxMTcwODA4MDtqOzE3MTI1OzIwNDg7NTQwOzgwMA\&quot;,\&quot;detailed\&quot;:\&quot;https://resizing.flixster.com/H1Mt4WpK-Mp431M7w0w7thQyfV8=/54x80/v1.bTsxMTcwODA4MDtqOzE3MTI1OzIwNDg7NTQwOzgwMA\&quot;,\&quot;original\&quot;:\&quot;https://resizing.flixster.com/H1Mt4WpK-Mp431M7w0w7thQyfV8=/54x80/v1.bTsxMTcwODA4MDtqOzE3MTI1OzIwNDg7NTQwOzgwMA\&quot;},\&quot;abridged_cast\&quot;:[{\&quot;name\&quot;:\&quot;Eva Green\&quot;,\&quot;id\&quot;:\&quot;162652241\&quot;,\&quot;characters\&quot;:[\&quot;Miss Peregrine\&quot;]},{\&quot;name\&quot;:\&quot;Asa Butterfield\&quot;,\&quot;id\&quot;:\&quot;770800323\&quot;,\&quot;characters\&quot;:[\&quot;Jake\&quot;]},{\&quot;name\&quot;:\&quot;Chris O'Dowd\&quot;,\&quot;id\&quot;:\&quot;770684214\&quot;,\&quot;char
5835 I ReactNativeJS: N-&gt;JS : RCTDeviceEventEmitter.emit([&quot;didCompleteNetworkResponse&quot;,[1,null]])
</code></pre> <p data-nodeid="185656">这样的效果显而易见，<strong data-nodeid="185832">通过前端能力，实现了原生应用的跨平台，快速编译、快速发布</strong>。但是缺点也比较明显：上述数据通信过程是异步的，<strong data-nodeid="185833">通信成本很高</strong>。除此之外，目前 React Native 仍有部分组件和 API 并没有实现平台统一，也在一定程度上需要开发者了解原生开发细节。正因如此，社区上也出现了著名文章<a href="https://medium.com/airbnb-engineering/react-native-at-airbnb-f95aa460be1c" data-nodeid="185830">《React Native at Airbnb》</a>，文中表示 Airbnb 团队在技术选型上将会放弃 React Native。</p> <p data-nodeid="185657">在我看来，放弃 React Native，拥抱新的跨平台技术并不是每个团队都有实力和魄力施行的，而改造 React Native 是另外一些团队做出的选择。</p> <p data-nodeid="185658">比如<strong data-nodeid="185844">携程的 CRN</strong>（Ctrip React Native）。它在 React Native 基础上，抹平了 iOS 和 Android 端组件开发差异，做了大量性能提升的工作。更重要的是，依托于 CRN，它在后续的产品 CRN-Web 也做了 Web 支持和接入。再比如，更加出名的<strong data-nodeid="185845">Alibaba 出品的 WEEX</strong>也是基于 React Native 思想进行的某种改造，只不过 WEEX 基于 Vue，除了支持原生平台，还支持了 Web 平台，实现了端上的大一统。WEEX 技术架构如下图（出自官网）：</p> <p data-nodeid="188513"><img src="https://s0.lgstatic.com/i/image/M00/94/AD/Ciqc1GAZK82AKeB3AADlYd3QMbY205.png" alt="Lark20210202-183709.png" data-nodeid="188517"></p> <div data-nodeid="188514"><p style="text-align:center;">WEEX 技术架构图</p></div> <p data-nodeid="185661">话题再回到 React Native，针对一些固有缺陷，React Native 进行了技术上的重构，我认为这是基于 OEM Hybrid 方案的 2.0 演进，下面我们进一步探究。</p> <h4 data-nodeid="185662">从 React Native 技术重构出发，分析原生跨平台技术栈方向</h4> <p data-nodeid="185663">上文我们提到，React Native 通过数据通信架起了 Web 和原生平台的桥梁，而这个数据通信方式是异步的。React 工程经理 Sophie Alpert 将这种异步通信方式称为 Asynchronous Bridge，这样的设计获得了线程隔离的便利，具备了尽可能的灵活性，但是这也意味着 JavaScript 逻辑与原生能力永远无法处在同一个时空，无法共享一个内存空间。</p> <p data-nodeid="185664">老架构图：</p> <p data-nodeid="185665"><img src="https://s0.lgstatic.com/i/image/M00/94/8A/Ciqc1GAYzjeAD4rFAAxfnuLVOGI871.png" alt="Drawing 3.png" data-nodeid="185855"></p> <p data-nodeid="185666">对比新的架构图：</p> <p data-nodeid="185667"><img src="https://s0.lgstatic.com/i/image/M00/94/95/CgqCHmAYzj-ANDk6AAyPBuKOtmk965.png" alt="Drawing 4.png" data-nodeid="185859"></p> <p data-nodeid="185668">基于这个问题，新的 React Native 技术架构将从三个方面进行革新。</p> <ol data-nodeid="185669"><li data-nodeid="185670"><p data-nodeid="185671"><strong data-nodeid="185865">改变线程模型</strong>（Threading Model），以往 React Native 的 UI 更新需要在三个不同的线程进行，新的方案使具有高优先级更新的线程，直接同步调用 JavaScript；同时低优先级的 UI 更新任务不会占用主线程。这里提到的三个并行线程是：</p> <ul data-nodeid="185672"><li data-nodeid="185673"><p data-nodeid="185674"><strong data-nodeid="185870">JavaScript 线程</strong>，在这个线程中，Metro 负责生成 JS bundles，JavaScriptCore 负责在应用运行时解析执行 JavaScript 代码；</p></li> <li data-nodeid="185675"><p data-nodeid="185676"><strong data-nodeid="185875">原生线程</strong>，这个线程负责用户界面，每当需要更新 UI 时，该线程将会与 JavaScript 线程通信，可以细分为原生模块和原生 UI；</p></li> <li data-nodeid="185677"><p data-nodeid="185678"><strong data-nodeid="185880">Shadow 线程</strong>，该线程负责计算布局，React Native 具体通过 Yoga 布局引擎来解析并计算 Flexbox 布局，并将结果发送回原生 UI 线程。</p></li></ul></li> <li data-nodeid="185679"><p data-nodeid="185680"><strong data-nodeid="185888">引入</strong><a href="https://reactjs.org/blog/2018/03/01/sneak-peek-beyond-react-16.html" data-nodeid="185886">异步渲染能力</a>，实现不同优先级的渲染，同时简化渲染数据信息。</p></li> <li data-nodeid="185681"><p data-nodeid="185682"><strong data-nodeid="185893">简化 Bridge 实现</strong>，使之更轻量可靠，使 JavaScript 和原生平台的调用更加高效。</p></li></ol> <p data-nodeid="185683">举个例子，这些改造能够使得“<strong data-nodeid="185899">手势处理</strong>”——这个 React Native 老大难问题得到更好的解决，比如新的线程模型能够使手势触发的交互和 UI 渲染效率更高，减少异步通信更新 UI 成本，使视图尽快响应用户的交互。</p> <p data-nodeid="185684">我们从更细节的角度来加深理解。上述重构的核心之一其实是使用基于 JavaScript Interface (JSI) 的新 Bridge 方案来取代之前的 Bridge 方案。</p> <p data-nodeid="185685">新的 Bridge 方案由两部分组成：</p> <ul data-nodeid="185686"><li data-nodeid="185687"><p data-nodeid="185688"><strong data-nodeid="185906">Fabric，新的 UIManager</strong>；</p></li> <li data-nodeid="185689"><p data-nodeid="185690"><strong data-nodeid="185911">TurboModules，新的原生模块</strong>。</p></li></ul> <p data-nodeid="185691">其中 Fabric 运行 UIManager<strong data-nodeid="185921">直接用 C++ 生成 Shadow Tree</strong>，而不需要走一遍老架构的 React → Native → Shadow Tree → Native UI 路径。这就<strong data-nodeid="185922">减少了通信成本，提升交互性能</strong>。这个过程依赖于 JSI，JSI 并不和 JavaScriptCore 绑定，因此我们可以实现引擎互换（比如使用 V8，或任何其他版本的 JavaScriptCore）。</p> <p data-nodeid="185692">同时，JSI 可以获取 C++ Host Objects，并调用 Host Objects 上的方法，这样能够完成<strong data-nodeid="185928">JavaScript 和原生平台的直接感知</strong>，达到“所有线程之间的互相调用操作”，因此我们就不再依赖“将传递消息序列化，并进行异步通信”了。这也就消除了异步通信带来的拥塞等问题。</p> <p data-nodeid="185693">新的方案也允许 JavaScript 代码<strong data-nodeid="185934">仅在真正需要时加载每个模块</strong>，如果应用中并不需要使用 Native Modules（例如蓝牙功能），那么它就不会在程序打开时被加载，这样就可以提升应用的启动时间。</p> <p data-nodeid="185694">总之，新的 React Native 架构将会在 Hybrid 思想上将性能优化做到极致，我们可以密切关注相关技术的发展。一条路优化到底是我们需要学习的，另辟蹊径也是我们需要掌握的，接下来，我们看看 Flutter 技术如何从另一个赛道出发，革新了跨平台技术方案。</p> <h3 data-nodeid="185695">Flutter 新贵背后的技术变革</h3> <p data-nodeid="185696">Flutter<strong data-nodeid="185952">采用了 Dart 编程语言</strong>，它在技术设计上不同于 React Native 的一个显著特点是：<strong data-nodeid="185953">Flutter 并非使用原生平台组件进行渲染</strong>。比如在 React Native 中，一个<code data-backticks="1" data-nodeid="185946">&lt;view&gt;</code>组件会被最终编译为 iOS 平台的 UIView Element 以及 Android 平台的 View Element，但在 Flutter 中，Flutter 自身提供一组组件集合，这些组件集合被 Flutter 框架和引擎直接接管。如下图（出自 <a href="https://www.codemag.com/Article/1909091/Cross-Platform-Mobile-Development-Using-Flutter" data-nodeid="185950">Cross-Platform Mobile Development Using Flutter</a>）：</p> <p data-nodeid="187680"><img src="https://s0.lgstatic.com/i/image/M00/94/AD/Ciqc1GAZK76AWfZpAApvFObEYiY127.png" alt="Lark20210202-183731.png" data-nodeid="187684"></p> <div data-nodeid="187681"><p style="text-align:center;">Flutter 工作原理图</p></div> <p data-nodeid="185699">Flutter 组件依靠自身高性能的渲染引擎进行视图的渲染。具体来说，每一个组件会被渲染在 Skia 上，Skia 是一个 2D 的绘图引擎库，具有跨平台特点。Skia 唯一需要的就是<strong data-nodeid="185962">原生平台提供 Canvas 接口，实现绘制</strong>。我们再通过一个横向架构图来了解实现细节：</p> <p data-nodeid="189346" class="te-preview-highlight"><img src="https://s0.lgstatic.com/i/image/M00/94/AD/Ciqc1GAZK9iAVaYlAAna3hqvMhs586.png" alt="Lark20210202-183729.png" data-nodeid="189350"></p> <div data-nodeid="189347"><p style="text-align:center;">Flutter 技术方案架构图</p></div> <p data-nodeid="185702">Flutter 技术方案主要分为三层：Framework、Engine、Embedder。其中<strong data-nodeid="185979">Framework 层由 Dart 语言实现，业务代码直接运行在这一层</strong>。框架的 Framework 层提供了 Material Design 风格的组件，以及<a href="https://flutterchina.club/widgets/cupertino/" data-nodeid="185973">适合 iOS 的 Cupertino 风格组件</a>。以 Cupertino 风格的 button 组件为例，其<a href="https://github.com/flutter/flutter/blob/master/packages/flutter/lib/src/cupertino/button.dart" data-nodeid="185977">源码</a>如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 引入基础及组件</span>
<span class="token keyword">import</span> <span class="token string">'package:flutter/foundation.dart'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'package:flutter/widgets.dart'</span><span class="token punctuation">;</span>
<span class="token comment">// 引入相关库</span>
<span class="token keyword">import</span> <span class="token string">'colors.dart'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'constants.dart'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'theme.dart'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> EdgeInsets _kButtonPadding <span class="token operator">=</span> EdgeInsets<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">16.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> EdgeInsets _kBackgroundButtonPadding <span class="token operator">=</span> EdgeInsets<span class="token punctuation">.</span><span class="token function">symmetric</span><span class="token punctuation">(</span>
  <span class="token literal-property property">vertical</span><span class="token operator">:</span> <span class="token number">14.0</span><span class="token punctuation">,</span>
  <span class="token literal-property property">horizontal</span><span class="token operator">:</span> <span class="token number">64.0</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 一个 Cupertino 风格的按钮组件，继承了 StatefulWidget</span>
<span class="token keyword">class</span> <span class="token class-name">CupertinoButton</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token function">CupertinoButton</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    Key<span class="token operator">?</span> key<span class="token punctuation">,</span>
    required <span class="token keyword">this</span><span class="token punctuation">.</span>child<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>padding<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>color<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>disabledColor <span class="token operator">=</span> CupertinoColors<span class="token punctuation">.</span>quaternarySystemFill<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>minSize <span class="token operator">=</span> kMinInteractiveDimensionCupertino<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>pressedOpacity <span class="token operator">=</span> <span class="token number">0.4</span><span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>borderRadius <span class="token operator">=</span> <span class="token keyword">const</span> BorderRadius<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>Radius<span class="token punctuation">.</span><span class="token function">circular</span><span class="token punctuation">(</span><span class="token number">8.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    required <span class="token keyword">this</span><span class="token punctuation">.</span>onPressed<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">assert</span><span class="token punctuation">(</span>pressedOpacity <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token punctuation">(</span>pressedOpacity <span class="token operator">&gt;=</span> <span class="token number">0.0</span> <span class="token operator">&amp;&amp;</span> pressedOpacity <span class="token operator">&lt;=</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token function">assert</span><span class="token punctuation">(</span>disabledColor <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       _filled <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
       <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token operator">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> CupertinoButton<span class="token punctuation">.</span><span class="token function">filled</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    Key<span class="token operator">?</span> key<span class="token punctuation">,</span>
    required <span class="token keyword">this</span><span class="token punctuation">.</span>child<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>padding<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>disabledColor <span class="token operator">=</span> CupertinoColors<span class="token punctuation">.</span>quaternarySystemFill<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>minSize <span class="token operator">=</span> kMinInteractiveDimensionCupertino<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>pressedOpacity <span class="token operator">=</span> <span class="token number">0.4</span><span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>borderRadius <span class="token operator">=</span> <span class="token keyword">const</span> BorderRadius<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>Radius<span class="token punctuation">.</span><span class="token function">circular</span><span class="token punctuation">(</span><span class="token number">8.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    required <span class="token keyword">this</span><span class="token punctuation">.</span>onPressed<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">assert</span><span class="token punctuation">(</span>pressedOpacity <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token punctuation">(</span>pressedOpacity <span class="token operator">&gt;=</span> <span class="token number">0.0</span> <span class="token operator">&amp;&amp;</span> pressedOpacity <span class="token operator">&lt;=</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token function">assert</span><span class="token punctuation">(</span>disabledColor <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       color <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
       _filled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
       <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token operator">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
  final Widget child<span class="token punctuation">;</span>
  final EdgeInsetsGeometry<span class="token operator">?</span> padding<span class="token punctuation">;</span>
  final Color<span class="token operator">?</span> color<span class="token punctuation">;</span>
  final Color disabledColor<span class="token punctuation">;</span>
  final VoidCallback<span class="token operator">?</span> onPressed<span class="token punctuation">;</span>
  final double<span class="token operator">?</span> minSize<span class="token punctuation">;</span>
  final double<span class="token operator">?</span> pressedOpacity<span class="token punctuation">;</span>
  final BorderRadius<span class="token operator">?</span> borderRadius<span class="token punctuation">;</span>
  final bool _filled<span class="token punctuation">;</span>
  bool <span class="token keyword">get</span> <span class="token parameter">enabled</span> <span class="token operator">=&gt;</span> onPressed <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  @override
  _CupertinoButtonState <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">_CupertinoButtonState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  @override
  <span class="token keyword">void</span> <span class="token function">debugFillProperties</span><span class="token punctuation">(</span><span class="token parameter">DiagnosticPropertiesBuilder properties</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">debugFillProperties</span><span class="token punctuation">(</span>properties<span class="token punctuation">)</span><span class="token punctuation">;</span>
    properties<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">FlagProperty</span><span class="token punctuation">(</span><span class="token string">'enabled'</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> enabled<span class="token punctuation">,</span> <span class="token literal-property property">ifFalse</span><span class="token operator">:</span> <span class="token string">'disabled'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// _CupertinoButtonState 类，继承了 CupertinoButton，同时应用 mixin</span>
<span class="token keyword">class</span> <span class="token class-name">_CupertinoButtonState</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token operator">&lt;</span>CupertinoButton<span class="token operator">&gt;</span> <span class="token keyword">with</span> SingleTickerProviderStateMixin <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token keyword">const</span> Duration kFadeOutDuration <span class="token operator">=</span> <span class="token function">Duration</span><span class="token punctuation">(</span>milliseconds<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> <span class="token keyword">const</span> Duration kFadeInDuration <span class="token operator">=</span> <span class="token function">Duration</span><span class="token punctuation">(</span>milliseconds<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  final Tween<span class="token operator">&lt;</span>double<span class="token operator">&gt;</span> _opacityTween <span class="token operator">=</span> Tween<span class="token operator">&lt;</span>double<span class="token operator">&gt;</span><span class="token punctuation">(</span>begin<span class="token operator">:</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  late AnimationController _animationController<span class="token punctuation">;</span>
  late Animation<span class="token operator">&lt;</span>double<span class="token operator">&gt;</span> _opacityAnimation<span class="token punctuation">;</span>
  <span class="token comment">// 初始化状态</span>
  @override
  <span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    _animationController <span class="token operator">=</span> <span class="token function">AnimationController</span><span class="token punctuation">(</span>
      <span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token keyword">const</span> <span class="token function">Duration</span><span class="token punctuation">(</span>milliseconds<span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">0.0</span><span class="token punctuation">,</span>
      <span class="token literal-property property">vsync</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    _opacityAnimation <span class="token operator">=</span> _animationController
      <span class="token punctuation">.</span><span class="token function">drive</span><span class="token punctuation">(</span><span class="token function">CurveTween</span><span class="token punctuation">(</span>curve<span class="token operator">:</span> Curves<span class="token punctuation">.</span>decelerate<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">drive</span><span class="token punctuation">(</span>_opacityTween<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_setTween</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 相关生命周期</span>
  @override
  <span class="token keyword">void</span> <span class="token function">didUpdateWidget</span><span class="token punctuation">(</span><span class="token parameter">CupertinoButton old</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">didUpdateWidget</span><span class="token punctuation">(</span>old<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_setTween</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">void</span> <span class="token function">_setTween</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    _opacityTween<span class="token punctuation">.</span>end <span class="token operator">=</span> widget<span class="token punctuation">.</span>pressedOpacity <span class="token operator">??</span> <span class="token number">1.0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  @override
  <span class="token keyword">void</span> <span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    _animationController<span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  bool _buttonHeldDown <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token comment">// 处理 tap down 事件</span>
  <span class="token keyword">void</span> <span class="token function">_handleTapDown</span><span class="token punctuation">(</span><span class="token parameter">TapDownDetails event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>_buttonHeldDown<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      _buttonHeldDown <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token function">_animate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 处理 tap up 事件</span>
  <span class="token keyword">void</span> <span class="token function">_handleTapUp</span><span class="token punctuation">(</span><span class="token parameter">TapUpDetails event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>_buttonHeldDown<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      _buttonHeldDown <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token function">_animate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 处理 tap cancel 事件</span>
  <span class="token keyword">void</span> <span class="token function">_handleTapCancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>_buttonHeldDown<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      _buttonHeldDown <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token function">_animate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 相关动画处理</span>
  <span class="token keyword">void</span> <span class="token function">_animate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>_animationController<span class="token punctuation">.</span>isAnimating<span class="token punctuation">)</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    final bool wasHeldDown <span class="token operator">=</span> _buttonHeldDown<span class="token punctuation">;</span>
    final TickerFuture ticker <span class="token operator">=</span> _buttonHeldDown
        <span class="token operator">?</span> _animationController<span class="token punctuation">.</span><span class="token function">animateTo</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token literal-property property">duration</span><span class="token operator">:</span> kFadeOutDuration<span class="token punctuation">)</span>
        <span class="token operator">:</span> _animationController<span class="token punctuation">.</span><span class="token function">animateTo</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token literal-property property">duration</span><span class="token operator">:</span> kFadeInDuration<span class="token punctuation">)</span><span class="token punctuation">;</span>
    ticker<span class="token punctuation">.</span>then<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">void</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>mounted <span class="token operator">&amp;&amp;</span> wasHeldDown <span class="token operator">!=</span> _buttonHeldDown<span class="token punctuation">)</span>
        <span class="token function">_animate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  @override
  Widget <span class="token function">build</span><span class="token punctuation">(</span><span class="token parameter">BuildContext context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    final bool enabled <span class="token operator">=</span> widget<span class="token punctuation">.</span>enabled<span class="token punctuation">;</span>
    final CupertinoThemeData themeData <span class="token operator">=</span> CupertinoTheme<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
    final Color primaryColor <span class="token operator">=</span> themeData<span class="token punctuation">.</span>primaryColor<span class="token punctuation">;</span>
    final Color<span class="token operator">?</span> backgroundColor <span class="token operator">=</span> widget<span class="token punctuation">.</span>color <span class="token operator">==</span> <span class="token keyword">null</span>
      <span class="token operator">?</span> <span class="token punctuation">(</span>widget<span class="token punctuation">.</span>_filled <span class="token operator">?</span> primaryColor <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
      <span class="token operator">:</span> CupertinoDynamicColor<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>widget<span class="token punctuation">.</span>color<span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span>
    final Color<span class="token operator">?</span> foregroundColor <span class="token operator">=</span> backgroundColor <span class="token operator">!=</span> <span class="token keyword">null</span>
      <span class="token operator">?</span> themeData<span class="token punctuation">.</span>primaryContrastingColor
      <span class="token operator">:</span> enabled
        <span class="token operator">?</span> primaryColor
        <span class="token operator">:</span> CupertinoDynamicColor<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>CupertinoColors<span class="token punctuation">.</span>placeholderText<span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span>
    final TextStyle textStyle <span class="token operator">=</span> themeData<span class="token punctuation">.</span>textTheme<span class="token punctuation">.</span>textStyle<span class="token punctuation">.</span><span class="token function">copyWith</span><span class="token punctuation">(</span>color<span class="token operator">:</span> foregroundColor<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">GestureDetector</span><span class="token punctuation">(</span>
      <span class="token literal-property property">behavior</span><span class="token operator">:</span> HitTestBehavior<span class="token punctuation">.</span>opaque<span class="token punctuation">,</span>
      <span class="token literal-property property">onTapDown</span><span class="token operator">:</span> enabled <span class="token operator">?</span> _handleTapDown <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
      <span class="token literal-property property">onTapUp</span><span class="token operator">:</span> enabled <span class="token operator">?</span> _handleTapUp <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
      <span class="token literal-property property">onTapCancel</span><span class="token operator">:</span> enabled <span class="token operator">?</span> _handleTapCancel <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
      <span class="token literal-property property">onTap</span><span class="token operator">:</span> widget<span class="token punctuation">.</span>onPressed<span class="token punctuation">,</span>
      <span class="token literal-property property">child</span><span class="token operator">:</span> <span class="token function">Semantics</span><span class="token punctuation">(</span>
        <span class="token literal-property property">button</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">child</span><span class="token operator">:</span> <span class="token function">ConstrainedBox</span><span class="token punctuation">(</span>
          <span class="token literal-property property">constraints</span><span class="token operator">:</span> widget<span class="token punctuation">.</span>minSize <span class="token operator">==</span> <span class="token keyword">null</span>
            <span class="token operator">?</span> <span class="token keyword">const</span> <span class="token function">BoxConstraints</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token operator">:</span> <span class="token function">BoxConstraints</span><span class="token punctuation">(</span>
                <span class="token literal-property property">minWidth</span><span class="token operator">:</span> widget<span class="token punctuation">.</span>minSize<span class="token operator">!</span><span class="token punctuation">,</span>
                <span class="token literal-property property">minHeight</span><span class="token operator">:</span> widget<span class="token punctuation">.</span>minSize<span class="token operator">!</span><span class="token punctuation">,</span>
              <span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token literal-property property">child</span><span class="token operator">:</span> <span class="token function">FadeTransition</span><span class="token punctuation">(</span>
            <span class="token literal-property property">opacity</span><span class="token operator">:</span> _opacityAnimation<span class="token punctuation">,</span>
            <span class="token literal-property property">child</span><span class="token operator">:</span> <span class="token function">DecoratedBox</span><span class="token punctuation">(</span>
              <span class="token literal-property property">decoration</span><span class="token operator">:</span> <span class="token function">BoxDecoration</span><span class="token punctuation">(</span>
                <span class="token literal-property property">borderRadius</span><span class="token operator">:</span> widget<span class="token punctuation">.</span>borderRadius<span class="token punctuation">,</span>
                <span class="token literal-property property">color</span><span class="token operator">:</span> backgroundColor <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>enabled
                  <span class="token operator">?</span> CupertinoDynamicColor<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>widget<span class="token punctuation">.</span>disabledColor<span class="token punctuation">,</span> context<span class="token punctuation">)</span>
                  <span class="token operator">:</span> backgroundColor<span class="token punctuation">,</span>
              <span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token literal-property property">child</span><span class="token operator">:</span> <span class="token function">Padding</span><span class="token punctuation">(</span>
                <span class="token literal-property property">padding</span><span class="token operator">:</span> widget<span class="token punctuation">.</span>padding <span class="token operator">??</span> <span class="token punctuation">(</span>backgroundColor <span class="token operator">!=</span> <span class="token keyword">null</span>
                  <span class="token operator">?</span> _kBackgroundButtonPadding
                  <span class="token operator">:</span> _kButtonPadding<span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token literal-property property">child</span><span class="token operator">:</span> <span class="token function">Center</span><span class="token punctuation">(</span>
                  <span class="token literal-property property">widthFactor</span><span class="token operator">:</span> <span class="token number">1.0</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">heightFactor</span><span class="token operator">:</span> <span class="token number">1.0</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">child</span><span class="token operator">:</span> <span class="token function">DefaultTextStyle</span><span class="token punctuation">(</span>
                    <span class="token literal-property property">style</span><span class="token operator">:</span> textStyle<span class="token punctuation">,</span>
                    <span class="token literal-property property">child</span><span class="token operator">:</span> <span class="token function">IconTheme</span><span class="token punctuation">(</span>
                      <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token function">IconThemeData</span><span class="token punctuation">(</span>color<span class="token operator">:</span>foregroundColor<span class="token punctuation">)</span><span class="token punctuation">,</span>
                      <span class="token literal-property property">child</span><span class="token operator">:</span> widget<span class="token punctuation">.</span>child
                    <span class="token punctuation">)</span><span class="token punctuation">,</span>
                  <span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p data-nodeid="185704">通过上面代码，我们可以感知 Dart 语言风格以及设计一个组件的关键点：Flutter 组件分为两种类型，<strong data-nodeid="185989">StatelessWidget 无状态组件和 StatefulWidget 有状态组件</strong>。上面 button 显然是一个有状态组件，它包含了 _CupertinoButtonState 类，并继承 State<code data-backticks="1" data-nodeid="185987">&lt;CupertinoButton&gt;</code>。通常一个有状态组件的声明为：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">MyCustomStatefulWidget</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>
  <span class="token comment">//---constructor with named // argument: country--- MyCustomStatefulWidget( {Key key, this.country}) : super(key: key);</span>
  <span class="token comment">//---used in _DisplayState--- final String country;</span>
  @override _DisplayState <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">_DisplayState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">_DisplayState</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token operator">&lt;</span>MyCustomStatefulWidget<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  @override Widget <span class="token function">build</span><span class="token punctuation">(</span><span class="token parameter">BuildContext context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">Center</span><span class="token punctuation">(</span>
      <span class="token comment">//---country defined in StatefulWidget // subclass--- child: Text(widget.country), </span>
     <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p data-nodeid="185706">Framework 的下一层是 Engine 层，这一层是<strong data-nodeid="185999">Flutter 内部核心</strong>，它主要由 C++ 实现，包含<strong data-nodeid="186000">Skia 图形处理函数库、Dart runtime、Garbage Collection（GC）以及 Text（文本渲染）</strong>。在这一层中，通过内置的 Dart 运行时，Flutter 提供了在 Debug 模式下的 JIT（Just in time）支持，以及在 Release 和 Profile 模式下的 AOT（Ahead of time）编译时编译成原生 ARM 代码的能力。</p> <p data-nodeid="185707">最底层为 Embedder 嵌入层，在这一层中，Flutter 的主要工作是 Surface Setup、接入原生插件、设置线程等。也许你并不了解具体底层的知识，这里只需要清楚：Flutter 的 Embedder 层已经很低，<strong data-nodeid="186006">原生平台只需要提供画布，而 Flutter 处理了其余所有逻辑</strong>。正是因为这样，Flutter 有了更好的跨端一致性和稳定性，以及更高性能表现。</p> <p data-nodeid="185708">目前来看，Flutter 具备其他跨平台方案所不具备的技术优势，加上 Dart 语言加持，未来前景大好。但作为后入场者，也存在生态小、学习成本高等障碍。作为前端开发者，对于 Flutter 技术的持续观察和深入学习并不矛盾，现在正是学习 Flutter 技术的良好时机。</p> <h3 data-nodeid="185709">总结</h3> <p data-nodeid="185710">大前端概念并不是虚无的。大前端的落地、纵向上依靠 Node.js 技术的发展，横向上依靠对端平台的深钻。上一讲我们介绍了小程序跨端的相关知识，这一讲我们分析了原生平台的跨端方案发展和技术设计。跨端这一技术也许会在未来由一个统一方案进行实现，相关话题也许会告一段落，但是深入该话题后学习到的端知识，将会是我们的宝贵财富。</p> <p data-nodeid="185711">本讲内容如下：</p> <p data-nodeid="185712"><img src="https://s0.lgstatic.com/i/image/M00/94/8A/Ciqc1GAYznaAGKheAAH7M50bq2I025.png" alt="Drawing 7.png" data-nodeid="186013"></p> <p data-nodeid="185713">从下一讲开始，我们将进入核心框架原理与代码设计模式的学习，下一讲我们将从设计一个请求库需要考虑的问题出发，带你学习 axios 的设计思想。今天的内容到这里就要结束了，如果有任何疑问欢迎在留言区和我互动，我们下一讲再见！</p> <hr> <h3 id="精选评论"><a href="#精选评论" class="header-anchor">#</a> 精选评论</h3> <h5 id="浩"><a href="#浩" class="header-anchor">#</a> *浩</h5> <blockquote><p>跨平台的技术这一讲真是好。</p></blockquote></div></div> <div class="page-slot page-slot-bottom"><!-- 横向自适应 -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6620245489"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/wu529778790/wu529778790.github.io/edit/master/docs/20.笔记/01.前端基础建设与架构 30 讲/16.原生跨平台技术：移动端跨平台到 Flutter 的技术变革.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2025/12/08, 12:51:29</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/12102b0892053/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">从编译到运行，跨端解析小程序多端方案</div></a> <a href="/pages/20b426615a1c8/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">学习 axio：封装一个结构清晰的 Fetch 库</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/12102b0892053/" class="prev">从编译到运行，跨端解析小程序多端方案</a></span> <span class="next"><a href="/pages/20b426615a1c8/">学习 axio：封装一个结构清晰的 Fetch 库</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/b402a341959d/"><div>HTTP网络请求</div></a> <span>12-08</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/0eaec18787ae2/"><div>如果AI设计的界面不好看，可以试试下面的提示词</div></a> <span>10-09</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/537e4ca5f546b/"><div>Code Review</div></a> <span>10-14</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:529778790@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/wu529778790" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://shenzjd.com/shenzjd/music/" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Power by
  <a href="https://vuepress.vuejs.org/zh/" target="_blank" title="vuepress">vuepress</a> 
    | Copyright © 2015-2025
    <span>神族九帝</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <div class="custom-html-window custom-html-window-rb" style="display:;"><div class="custom-wrapper"><i class="close-but">×</i> <div><!-- 固定160*160px -->
      <ins class="adsbygoogle"
          style="display:inline-block;max-width:160px;max-height:160px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="8377369658"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
      </div></div></div></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.5c367c34.js" defer></script><script src="/assets/js/3.b9739eb7.js" defer></script><script src="/assets/js/172.28f10b89.js" defer></script>
  </body>
</html>