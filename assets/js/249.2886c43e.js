(window.webpackJsonp=window.webpackJsonp||[]).push([[249],{584:function(t,e,r){"use strict";r.r(e);var o=r(4),n=Object(o.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[t._v("字体好几兆，根本用不完，怎么优化")]),t._v(" "),e("ul",[e("li",[t._v("font-spider")]),t._v(" "),e("li",[t._v("fontmin")]),t._v(" "),e("li",[t._v("转换格式")])]),t._v(" "),e("h2",{attrs:{id:"font-spider"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#font-spider"}},[t._v("#")]),t._v(" font-spider")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/aui/font-spider/blob/HEAD/README-ZH-CN.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/aui/font-spider/blob/HEAD/README-ZH-CN.md"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://www.npmjs.com/package/font-spider",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.npmjs.com/package/font-spider"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("对于 vue-cli 创建的项目，亲测不可行，为啥呢？大家仔细看 font-spider 官网的这句话")]),t._v(" "),e("blockquote",[e("p",[t._v("字蛛通过分析本地 CSS 与 HTML 文件获取 WebFont 中没有使用的字符，并将这些字符数据从字体中删除以实现压缩，同时生成跨浏览器使用的格式。")])]),t._v(" "),e("p",[t._v("我们会发现，需要渲染的东西都是通过 js 文件来动态加载的，所以 font-spider 根本无法捕获 js 里的字符，自然也无法优化了")]),t._v(" "),e("h2",{attrs:{id:"fontmin"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#fontmin"}},[t._v("#")]),t._v(" fontmin")]),t._v(" "),e("p",[t._v("下载软件 "),e("a",{attrs:{href:"http://ecomfe.github.io/fontmin/#app",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://ecomfe.github.io/fontmin/#app"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("img",{attrs:{src:"https://gcore.jsdelivr.net/gh/wu529778790/image/blog/20220531170129.png",alt:"20220531170129"}})]),t._v(" "),e("h2",{attrs:{id:"转换格式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#转换格式"}},[t._v("#")]),t._v(" 转换格式")]),t._v(" "),e("h3",{attrs:{id:"ttf-字体转-woff2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ttf-字体转-woff2"}},[t._v("#")]),t._v(" TTF 字体转 WOFF2")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://everythingfonts.com/ttf-to-woff2",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://everythingfonts.com/ttf-to-woff2"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.fontsquirrel.com/tools/webfont-generator",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.fontsquirrel.com/tools/webfont-generator"),e("OutboundLink")],1)])]),t._v(" "),e("p",[t._v("但是个人觉得线上转换等待上传的时间比较久，而且有时候生成的文件是空白的，因此更加倾向于使用 node 库 ttf2woff2 转换。")]),t._v(" "),e("p",[t._v("该库的周下载量达到 10w+ 的，可见好多人都会有将 tff 转换成 woff2 的需求。")]),t._v(" "),e("p",[t._v("使用方法也很简单：")]),t._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" font.ttf "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" ttf2woff2 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" font.woff2\n")])])]),e("p",[t._v("因为使用 了 cat 命令来提取 ttf 的内容，如果你使用的是 windows ，需要使用 git bash 或 wsl 来运行")]),t._v(" "),e("h2",{attrs:{id:"预加载"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#预加载"}},[t._v("#")]),t._v(" 预加载")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://web.dev/codelab-preload-web-fonts/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://web.dev/codelab-preload-web-fonts/"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"参考链接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考链接"}},[t._v("#")]),t._v(" 参考链接")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://juejin.cn/post/6984971905069482021",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://juejin.cn/post/6984971905069482021"),e("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=n.exports}}]);